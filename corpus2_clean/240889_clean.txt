immediately confess little multithreading question style organization domain little fresh written structure matter implement special kind queue like use queue pas message thread currently logic nothing thread simply implement special sauce organizing message queue like queue structure nothing thread like structure however need use mutexes condition variable etc implement thread safety logic question logic go write say derived write wrap instead deriving provide option make concurrent constructor usually done