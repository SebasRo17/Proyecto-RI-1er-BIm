something novice mathematica written following code clear band en w fermi k k band en w exp en w fermi en ef exp en ef k plot band en w w en plot fermi en ef ef en plot band en w w band en w fermi en ef ef w en ef k nintegrate band en w fermi en ef log fermi en ef w en infinity infinity plot ef ef plotrange ef ef ef plot ef ef work nicely try plot simply derivative wrt ef even though plot v ef line plotting give error message along line general ivar valid variable clearly something nintegrate evaluating early function ef way would expect similar idea fix would grateful suggestion anyone could give think issue showing fundamental lack understanding mathematica work reply along line read understand article would also welcome many thanks nick