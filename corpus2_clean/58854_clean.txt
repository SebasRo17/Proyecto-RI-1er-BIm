would like build application using mathematica would much like structure application maximum maintainability end would like segregate control user interface one set source code file calculation another set file basic idea calculation ui agnostic receive data return result calculation know nothing ui code calculation file may used multiple user interface cdf web unit test net etc scope important would like minimize risk changing variable calculation unintentionally set variable value ui call function wrap custom control want keep manipulate variable local manipulate function wrap manipulate tried using dynamicmodule localizevariables true find variable used manipulate completely visible settable notebook calling dynamicmodule control defined may working set assumption definition scope application development language mathematica ideally would like ability decide variable global variable local manipulate would like build set usable custom control mathematica following criterion would like wrap control function module wl file specific context variable local manipulate visible settable calling notebook would like package user setting return module wrap manipulate something along line mysettings mycontrol mycontrol encapsulates manipulate return dataset array setting selected user would also like manipulate variable local mycontrol visible settable calling code notebook probably working scope definition local global used application development language example ekswaveformcontrol dynamicmodule treatmentspecrow manipulate plot ctrlvdc ctrlvac ctrlgfunc pi ctrlf ctrlphi ctrlgfunc sin sin co tan cot delimiter ctrlvac subscript v ac ctrlvdc subscript v dc delimiter ctrlf frequency ctrlphi phi pi delimiter button update treatmentspecrow dataset association func ctrlgfunc vac ctrlvac vdc ctrlvdc phi ctrlphi omega pi ctrlf controlplacement left paneled true localizevariables true user click update button would like return dataset array setting otherwise keep variable used manipulate local module