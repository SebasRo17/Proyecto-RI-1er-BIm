would like obtain function derivative function defined solution maximization problem obvious approach clear f f numericq nargmax x x f f fails give numeric f used following clear f f functioninterpolation argmax x x f actual function would like maximize closed form thus interpolatingfunction object must used clear f g g functioninterpolation x x f functioninterpolation argmax g x x f give error functioninterpolation nreal near function evaluate real number avoid error get correct f