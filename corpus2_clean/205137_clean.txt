problem figuring mock complex operation first problem generating complex one component really complex structure logic class executed unfortunate bug necessary use big model reproduce case unit integration test first idea write script convert model executable generated show complexity model converted model num per model problem first approach little mistake script every time identified one rewrite model good idea second idea use xml file saved test start use convert xml file model result better first idea never plain unit test always rely used conversion someone better idea deal issue second problem even harder solve manipulation complex integration test another component want mock dependency somehow create initial used component kind ast syntax check component dependency component take decorates end another manipulated ast test idea mock behavior syntax check best regard