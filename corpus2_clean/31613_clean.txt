program expression look like analyticalexpression n np r n np np f n np p p p p p p q q p q q p np f n np p p p p p p q q p q q p np f n np p p p p p p q q p q q p gave short example full expression page long point view expression serf function integer variable n np p p p q q p two real variable r x program evaluates expression using replacement rule instance tmp analyticalexpression n np p p problem program evaluate expression hundred thousand time different value integer variable make whole program painfully slow tricky way perform substitution efficiently tabulation analyticalexpression every combination integer variable seems quite weird thanks advance answer suggestion michal