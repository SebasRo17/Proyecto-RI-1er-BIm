description want add vertical line horizonal line data make every point independent rectangle area addtion every independent rectangle number ldots algorithm method add line two point separate however yield many rectangle kuba answer show add condition coordinate difference two adjacent point less line deleted using condition reduce number rectangle ideal result would appear shown enter image description method use large data set function gridlinedata yield coordinate line two point gridlinedata data list block sortdata length origindata deletedata sortdata deleteduplicates sort data length length sortdata origindata append prepend sortdata sortdata sortdata sortdata length sortdata length deletedata list first select thread list range length difference sortdata delete total partition origindata deletedata function gridnumber yield number one direction point gridnumber data list block length intervaldata length length gridlinedata data intervaldata interval partition gridlinedata data first pick range length intervalmemberq intervaldata data function grid dnumber yield number two direction point grid dnumber data list x block xgridnumber ygridnumber xgridnumber gridnumber data x ygridnumber gridnumber data thread list xgridnumber ygridnumber function finalnumber yield number point finalnumber data list x block length length length gridlinedata data x length grid dnumber data x function resultshow resultshow data list x imagesize plotrange ax block xgridlinedata ygridlinedata xgridlinedata gridlinedata data x ygridlinedata gridlinedata data listplot data gridlines xgridlinedata ygridlinedata gridlinesstyle directive red dashed ax ax axesstyle arrowhead imagesize imagesize plotrange plotrange axeslabel style fontfamily time italic x epilog style text thread list finalnumber data x data pink running data resultshow data false true yield enter image description question seen figure point share rectangle independent require question modify algorithm achieve effect using least independent rectangle area separate every point