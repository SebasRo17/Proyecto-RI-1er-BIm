written manipulate sparse graph school work operation requires edge graph interface need implement gimme edge graph g k j put next k edge graph g array j return number edge actually found case fewer k left iterator pattern seems like tool job biggest consideration want take account program parallel thread responsible processing disjoint subset graph edge case current edge iterator private thread iterator stopped continuing past ending point edge another thread responsible want graph edge iterators internal external graph object graph edge iterator external called client maintenance parallelism straight forward moreover get deleted end edge processing hand iterator part graph look simpler surface make sure store one thread also persistent state get next edge processing unless bet