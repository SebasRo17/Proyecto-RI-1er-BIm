trying generate equilateral triangular lattice fixed vertex periodic boundary condition supposed assign index starting vertex lattice find nearest neighbor point following see tried far show length side unit triangle lx ly indicate size box tried find neighbor point measuring distance point run program check connectionx file see point point near boundary less neighbor know impose periodic boundary condition lattice suggestion help find neighbor point using periodic boundary condition thank advance setdirectory favorite directory x r x r x r sqrt lx ly q q r point openwrite point dat formattype outputform x x r x n r x n n r n x lx ly r write point r x q q n q q close point part give right position particle x coordinate data readlist point dat number recordlists true con openwrite connectionx dat formattype outputform distance j sqrt data data j data data j writestring con j distance j writestring con j j length data writestring con n length data close con