two matrix want add one matrix tensor product two vector used setdelayed define summed matrix want evaluate different value vector however try evaluate using replacement get new array wrong dimensionality minimal ish example mat diagonalmatrix tensorproduct vec vec using replace give something horrible mat vec block setting vec give correct behavior block vec mat sorry sure typed output correctly going