trouble compiling function us mapindexed function second level compilation run fine evaluation time get error cannot explain right following scenario show problem first define compiled version noncompiled version simple funciton using mapindexed mapindexedcompiletest compile list real list real mapindexed list list mapindexedtest list list mapindexed list list mapindexedtest show function work fine mapindexedtest mapindexedcompiledtest yield error compiledfunction cflist nontensor object generated proceeding uncompiled evaluation evaluated way mapindexedcompiletest anybody know go wrong new intel got reading answer problem seems index represented second argument correct using compiled see defined following function return current index inside mapping function mapindexedgiveindexcompiled compile p real mapindexed p mapindexedgiveindex p mapindexed p function obviously return result used rank tensor mapindexedgiveindexcompiled delivers wrong result mapindexedgiveindexcompiled delivers mapindexedgiveindex return expected result explain working overall look like bug