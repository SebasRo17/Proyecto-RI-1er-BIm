observation see even simple modification case scalar objective involving definite integral time parametricndsolve fails example eqns sin pfun parametricndsolvevalue eqns integrate method parametricsensitivity forwardsensitivity pfun meaningless output kind output pfun pfun onwards higher derivative get numerical value guess totally wrong however everything fine one us integrate tried parametricsensitivity adjointsensitivity suitable integrated objective function failure time case get following error parametricndsolvevalue adjsens adjoint sensitivity method cannot used output function used output function particular time definite integral time feel major inconsistency implementation internal using trace found esoteric integrate improperdump internal dependsonq pfun know distribute integrate plus integrate integrate true first find pfun using eqns sin pfun parametricndsolvevalue eqns integrate method parametricsensitivity forwardsensitivity pfun integrate first order sensitivity pfun integrate crosschecking first order sensitivity fun aval numericq nintegrate block aval evaluate first ndsolve evaluate eqns need numericalcalculus nd fun x x pretty much expected question great know use parametricndsolve family find parameter dependency integrated objective like following g p int b g p d g function dependent variable underlying differential equation system p represents parameter respect sensitivity frac dg dp sought e example also parametricsensitivity adjointsensitivity fails example math reference check br