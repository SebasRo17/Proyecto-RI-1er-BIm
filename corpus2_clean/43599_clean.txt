trying figure best way include variable number index summation program example suppose want define function g n return sum sum n hbox multinomial ldots following code vv n multinomial flatten array p n sum p k k vv n k sum evaluate vv n k p k n sum p j j k g n first clear p vv n run slowly presumably spends lot time computing big symbolic expression value vv n k big symbolic expression number least long k neq feel like must efficient way fixed form big expression keep running total summands iterated value case know advance many iterating index need resorted standard obvious trick handling case relevant efficiency issue function actually interested multinomial function take real number value