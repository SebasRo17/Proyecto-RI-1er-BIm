written program record protocol message application hardware device match application request hardware response later remove hardware connect replay application application wait application request reply matched copy requisite hardware reply message replay application save matched request response list using c std list work fine small interaction session problem need able use replay long long session current implementation replay program eventually us available memory computer crash need sort lookahead parse whole session one go anyone make suggestion get started