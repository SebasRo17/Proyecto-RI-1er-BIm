wanted draw lattice aligned unit cube inside sphere given radius centered origin wrote program cube x z cuboid x z x z coords r floor sqrt r sqrt r select flatten table x x x norm cube r cube union flatten permute symmetricgroup coords r draw r graphic union cube r green opacity sphere r plotrange r r r viewpoint r r r draw sqrt note show cube outside drawing inner one take long usually mathematica run memory get job done pretty ugly regular mathematica user tip improving code write idiomatically better mathematica code improved code coords r floor sqrt r sqrt r select join table x x x norm cube r cuboid union permute symmetricgroup coords r draw r graphic union cube r green opacity sphere r plotrange r r r viewpoint r r r draw sqrt