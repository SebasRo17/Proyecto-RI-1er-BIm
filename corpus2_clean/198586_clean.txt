transaction contains one lineitem one lineitem relation item every item number field represent quantity stock using approach every transaction creation need decrease quantity item user update transaction quantity item need adjusted user delete transaction quantity item need increased best way implement rule behaviour domain model layer transaction operation like create update delete located access layer