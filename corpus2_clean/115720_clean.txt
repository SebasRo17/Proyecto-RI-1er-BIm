need num capability calculating mutual friend distinguishing different type edge e g friend enemy getting relationship distinguishing different type edge problem speed use database mysql get thousand relationship moment need calculate mutual friend cost lot server num num account site want introduce relationship system obviously decide right way develop idea