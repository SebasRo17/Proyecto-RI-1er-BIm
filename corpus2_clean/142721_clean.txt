like command query separation pattern eiffel basically either change state make reasoning easier easier write exception safe class multi threading major problem separation query command basically invalidates result query anything happen num question handle command query separation multi threaded environment clarification example stack command query separation would following method push command pop command top query return empty query problem get empty status rely top really retrieving element since call empty call top stack might emptied go pop top get item using top sure item pop solved using external lock exactly call threadsafe design