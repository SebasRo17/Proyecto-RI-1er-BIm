oop strategy working database keeping thing unit testable say user production environment work mysql see couple possible approach shown using php num pas source interface load save abstract backend source testing pas different store user new user mysql source user load bob user user save num use factory access database pass result row user constructor testing manually generate row parameter mock userfactory source might save change record userfactory static source public static fetch username row self source get params user new user row user design pattern clean next struggling find applicable concept