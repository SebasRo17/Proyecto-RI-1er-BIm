big application written c using mfc framework million line need say legacy system also heavily maintained updated application lack lot architecture example lot class query directly database creates lot difficulty unit testing read book working effectively legacy one important thing first create kind architecture separate gui logic database idea go towards create something like database facade num goal num encapsulate call database behind facade num able test facade batch detect error sql fast database facade implementing interface could easily mocked unit test second goal able function facade batch test error sql query count unit test would running per day concern know existing framework library take care abstraction far know platform like net seems c mfc lot option like said application big change done slowly mostly new query added software think good thing add also lot recordsets one almost moment know deal kept side decided deal regular sql query suggestion deal recordsets glad hear question whole idea database facade worth trying library framework help adventure c mfc programmer deal abstraction query database thanks edit people chat suggest looking repository pattern knew world mvc num suggestion tutorial repository pattern c found net world