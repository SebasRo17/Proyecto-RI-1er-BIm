following work compile x real piecewise x enter piecewise bracket style get two error message compile cif type two result true incompatible rank different evaluation use uncompiled function compile cif type two result x true incompatible rank different evaluation use uncompiled function seems bracket style input form piecewise function transformed x true different type screenshot enter image description work expected type bracket style piecewise work however copy output bracket style piecewise put work happens fix making stupid mistake