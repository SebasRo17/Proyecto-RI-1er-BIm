generic framework concept child parent object object add remove adding call add child informs parent inverse remove concept parent generic enough across class may parent b parent c parent still work since mark added removed first step abstract even circular dependency call add second time second time add without anything added boolean already set halt recursion unexpected exception occurs want revert state back exception occurs exception handling catch time connection remove object added update parent throwing exception logic fail revert addobject calling removeobject vice versa state somehow ended truly bizarre state could keep throwing exception add throw call remove remove throw call add etc etc think still chance infinite recursion though admittedly something would already pretty messed state happen cleaner way rollback logic avoid potential point like say state recover anyways