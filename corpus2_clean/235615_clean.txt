charge updating software product made two component controller process ui process controller ui communicate via xml message furthermore controller built top shared library implement number business flow message controller ui communication somebody decided use net built serialization deserialization therefore created type annotated attribute control serialization xmlelement etc message serializing deserializing using default xml serializer first couple controller fine message reused cannot accomplish similar function structurally incompatible information need contain decision made stuck type cannot model need cannot changed would break controller time need functionality messaging sequence implemented shared library need way conundrum one smallest technical cost relation changing controller need sort structural polymorphism type internal structure different perhaps message changed type case need way control outside shared library casting get made inside shared library approach experienced enough find clean refactoring feel stuck using net num