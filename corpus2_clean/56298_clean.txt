trying solve puzzle using mma mathematica graphic look like generalization magic square anyway attempt four column x z w nine rowa denoted array index first define variable zero value x x x x w equation equating column c sum x c sum c sum z c sum w col equal thread array c next row r n x n n z n w n row equal thread array r give upper bound solution join array x array array z array w thread distinct solution allne unequal thread join array x array array z array w list variable allvar join join array x array array z array w finally use findinstance keep running hr findinstance col row thread allne allvar integer question findinstance slow even putting bound integer solution also done method also tried simplest time magic square findinstance b c e f g h g b e h c f b c e f g h b c e f g h integer also kept running think need wait output kind sum mma take long