trying plot averaged autocorrelation function random wire profile xi x build unitsteps l unit long calculate average generating nmax realization profile proceed calculate autocorrelator langle int infty infty xi x xi x dx rangle bracket indicate averaging nmax copy profile final goal plot expression function started using built mean convolve function however ridiculously slow machine late macbook give idea take second calculate corr alone even nmax anything completely missing someone even hint faster elegant approach l step length nmax number realization averaging nsteps number module wire define module mod x unitstep x l unitstep l x define random profile xi x sum randomreal mod x n l n nsteps nsteps get nmax realization random profile xitmp x table xi x n nmax define correlator normalized corr corr table convolve xitmp x n xitmp x n x convolve xitmp x n xitmp x n x n nmax plot mean autocorrelator plot mean corr plotrange filling axis