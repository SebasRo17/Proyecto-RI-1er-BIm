short question previous one except everything wrapped module relevant code working getinter b u k hbar nu np module ekp m lu env eenv envpart f kppart g approx approx papprox approx hard ereal psiparts real real realp real er inter ekp energy b u k hbar m effmass b u k hbar lu buildlus b nu np u env x ab det envfunc m hbar x nu np b eenv zero env envpart getpsipieces lu lu eenv m hbar f x evaluate piecewise envpart return f envpart properly formatted object piecewise variable us named x evaluate returning structure put piecewise formatted case structure opposed array like return f number like would expect also f x evaluate piecewise envpart work fine take module thanks help also get sense solution problem fully understand allow work lot problem encounter really appreciate suggestion learn issue play edited slightly less awful formatting