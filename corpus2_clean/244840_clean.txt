trying figure validation domain object need external resource mapper dao firstly user const invalid id num const invalid num const invalid email num getid setid getname setname getemail return bitmask invalid constant worry uniqueness email checking would require storage layer reading others seems two solution equally accepted perform unique validation mapper set state user adderror user invalid email others prefer throw totally different exception cover persistence like const invalid email num const invalid city num pro con solution