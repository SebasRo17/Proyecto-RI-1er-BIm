chapter num book art unit testing example c roy osherove illustrates issue undesirable external dependency test show named isvalidlogfilename take filename argument read config file local filesystem check whether given filename extension exists config file would look like public loganalyzer public bool isvalidlogfilename filename extension system io file readalllines c user public ext config foreach ext extension filename endswith ext issue testing isvalidlogfilename dependency local filesystem author introduces concept stub mean removing dependency particular describes following design create interface interface bool isvalid filename implementing production bool isvalid filename extension system io file readalllines c user public ext config foreach ext extension filename endswith ext stub bool isvalid filename extension txt c cpp c foreach ext extension filename endswith ext refactor loganalyzer follows public loganalyzer em public loganalyzer em public bool isvalidlogfilename filename em isvalid filename production like loganalyzer la new loganalyzer new test like loganalyzer la new loganalyzer new part understand extract validation logic original isvalidlogfilename making interface make sense create something like interface refactor follows interface interface implementing production system io file readalllines c user public ext config stub extension txt c cpp c extension refactor loganalyzer follows public loganalyzer cm public loganalyzer cm public bool isvalidlogfilename filename extension cm foreach ext extension filename endswith ext production like loganalyzer la new loganalyzer new test like loganalyzer la new loganalyzer new