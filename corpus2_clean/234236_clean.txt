read everywhere referential transparency side effect mutually exclusive function however case change state effect output example global num def foo b global num b call seems fit standard definition referential transparency also change state thus side effect mind wonder misunderstand referential transparency even idea side effect correct say foo referentially transparent side effect extent feel counter productive expand definition referential transparency condition side effect effect still excludes function considered referentially transparent