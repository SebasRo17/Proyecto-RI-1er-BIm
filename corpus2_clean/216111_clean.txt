idea implement sub reverse num including reading many reverse operation use trivial solution n edit clear want build structure behind access layer know reversing request indexing logic necessary someone want iterate edit num structure used iteration reading even question helping num case need taking care regular reverse operation reverse including reversed area intersection reverse part reversed area implementation first two part need help last one rule rule public public weight used basic structure city public city rule rule private static atomicinteger counter new atomicinteger num public final id counter override public tostring id public implement iterable city iterator city private position private direction num private arraylist city city private arraydeque city new arraydeque private linkedlist rule new linkedlist public init arraylist city city city city public swap index1 index2 rule rule new rule rule weight math ab index2 index1 city get index1 rule rule city get index2 num rule rule override public remove throw new illegalstateexception implemented override public city next city city city get position peek city pop position city rule weight num direction city city get position city rule city rule add city rule position city rule weight direction push city else position direction else position direction city private direction num override public boolean hasnext position city size override public iterator city iterator position num sample program public static arraylist city list new arraylist num num list add new city new init list city city system city system println n swap num num city city system city system println n swap num num city city system city handle reverse intersection