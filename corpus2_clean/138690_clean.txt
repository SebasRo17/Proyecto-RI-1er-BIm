would optimal way organize arbitrary type structure allows complex non index based lookup without performing full little background looking answer architect event engine rather looking method improve current implementation num second tour architecture place following component signal signal handle execute handle executes signal received queue manages handle engine manages queue process signal new handle etc current implementation pitfall num signal currently coupled queue done engine identify queue storage signal represent num two separate queue storage indexed non indexed index exists lookup string non index exists complex signal regex comparison etc think may solution would like thought others developed similar system new architecture thought would consist following num queue would store property rather signal would would passed engine signal comparison num engine would longer non index index storage rather single storage would used would require lookup library written php matter want see source