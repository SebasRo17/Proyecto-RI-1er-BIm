recently came across following pattern api forced use someobject public constructor someobject bool copy set setvalue const complextype private bool copy complextype complextype complextype someobject someobject bool copy copy copy someobject setvalue const complextype copy complextype assign else const cast complextype background behind pattern used hold prior encoded sent tcp socket copy weirdness designed make someobject efficient holding pointer need encoded also provide option copy value lifetime someobject exceeds lifetime complextype however consider following someobject somefunction complextype num create instance complextype someobject setvalue okay uh oh destroyed encoding venture realm undefined behaviour tripped used default constructor resulted message encoded blank fluke undefined behaviour took absolute age pinpoint cause anyway standard pattern something like advantage way v overloading setvalue accept pointer missing thanks