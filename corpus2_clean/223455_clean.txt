faced following problem produced parsing yaml file contains pattern following structure programming book title list title author art book title foo bar author mr foo mr bar year program supposed given random find book particular title author year far using following foreach book value config tag match num foreach tag value tag value length foreach tag tag match tag match value length tag book matched continue matching program supposed receive many matching line bu supposed receive huge amount far book length tag length length iteration better way