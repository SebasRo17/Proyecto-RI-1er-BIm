implementing mechanism notify group user newly inserted blog comment architecture us redis pub sub mechanism definition pub sub mechanism aim propagate message right subscriber without storing persisting anything although blog comment obviously persisted db also expect notification sent persisted order retrieved time offline user get logged course redis could persistent message cost pretty high use distinct database let take example mysql currently workflow num blog comment posted user handled backend firstly stored db num event raised let call trigger worker aiming detect targeted user comment num assuming num user target comment insert num notification row database associating targeted userid specific user since would flag read unread num notification persisted use redis pub sub trigger subscriber aiming push result concerned online client websockets instance issue process could slow step num would tolerated make step num step num meaning persisting db since potential loss dramatic case non financial etc advantage client get result quickly drawback user could receive notification failed stored background leading missing notification user refreshes page best way handle case keeping database notification store