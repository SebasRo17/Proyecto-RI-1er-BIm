quite lot refactoring c c recently found num pattern use template factory singleton generally commonly used pattern refactoring share refactoring experience