want evaluate sum integral integral pole real axis handle via cauchy principal value f e frac q sum infty n infty int infty infty dr exp ier q frac left sinh r frac rp q frac npp right p q e constant say first following applies n neq zero n handle differently n e denominator integrand two pole real axis amongst others complex plane shall concerned use mathematica findroot get location pole since equation whose root need transcendental use nintegrate cauchyprincipalvalue method evaluate principle part integral get additional contribution pi time text residue pole first use partial fraction integrand obtain f e frac q sum infty n infty int infty infty dr frac exp ier q left frac rp q frac npp right left frac left sinh r frac rp q frac npp right frac left sinh r frac rp q frac npp right right two pole n e simple pole providing know location numerically via findroot residue easy compute example considering first term integrand frac q frac exp ier q left frac rp q frac npp right frac left sinh r frac rp q frac npp right say numerically found root r piece text re lim r r left frac q frac exp ier q left frac rp q frac npp right frac r r left sinh r frac rp q frac npp right right text re lim r r left frac q frac exp ier q left frac rp q frac npp right frac left cosh r frac p q right right second equality following l hopital rule note zero left frac rp q frac npp right really pole full expression considered together similar residue piece must add pi time residue pv mathematica implementation constant definition r wp ag wp pg wp sqrt r r p sqrt r r r q sqrt r r p pi sqrt r r find pole n e findnroots n integerq x numericq block rm rp root rp r findroot sinh r r p q n p p r x precisiongoal pg workingprecision wp rm r findroot sinh r r p q n p p r x precisiongoal pg workingprecision wp root rp rm root integrate given n e summing pvs residue integrator n n en numericq block rtm rtp lowroot highroot mid tmp tmp tmp tmp sum rtp findnroots n rtm findnroots n lowroot sort rtm rtp highroot sort rtm rtp mid highroot lowroot const somewhere middle two pole real line tmp q nintegrate exp en r q sinh r r p q n p p r infinity lowroot mid method principalvalue tmp q nintegrate exp en r q sinh r r p q n p p r mid highroot infinity method principalvalue add residue tmp pi q exp en rtm q rtm p q n p p limit cosh r p q r rtm tmp pi q exp en rtp q rtp p q n p p limit cosh r p q r rtp sum tmp tmp tmp tmp sum seems work ok table integrator n n mathematica seems compute list fine however nsum integrator n n mathematica give manner complaint nintegrate deorela perfectly happy compute value integrator list individually another way performing sum separate issue also find certain value n e example integrator also get error like nintegrate deodiv doubleexponentialoscillatory return finite integral estimate integral might divergent even compute result individually let alone nsum suspect thing become oscillatory higher value e