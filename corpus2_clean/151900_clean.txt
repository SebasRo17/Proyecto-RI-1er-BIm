show example using php phpunit may applied programming language case let say foo delegate work return solution would choose mock getmock mock expects bar returnvalue baz obj new mock assertequals baz obj foo mock getmock mock expects bar returnvalue result baz obj new mock assertequals result obj foo result baz mock getmock mock expects bar returnvalue result obj new mock assertequals result obj foo personally always follow 2nd solution num minute ago conversation couple developer said tricky chose 3rd 1st would usually convention follow case