problem simpler term code clear global e r kb na ep p pot r e exp r r b pi na nintegrate exp pot r kb r r infinity c pi na nintegrate nintegrate nintegrate r exp pot r kb r exp pot r kb exp pot sqrt r r r r n kb r r n problem second integration function c keep giving zero warning nintegrate izero integral error estimate integration subregions try increasing value minrecursion option value integral may specify finite value accuracygoal option use one nintegrate function c pi na nintegrate r exp pot r kb r exp pot r kb exp pot sqrt r r r r n kb r r n get warning nintegrate errprec catastrophic loss precision global error estimate due insufficient workingprecision divergent integral idea fix original integration enter image description