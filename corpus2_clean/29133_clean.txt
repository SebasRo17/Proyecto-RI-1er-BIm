principalvalue option convolve used question define hilbert transform however mathematica convolution version give wrong answer fourier transform based version still work fourier transform version hilberttransform function f u module fp fourierparameters x fullsimplify inversefouriertransform heavisidetheta x fouriertransform f u x fp x fp hilberttransform v w sin v co v v sinc v diracdelta v co w sin w w w co w w w convolve based version failed diracdelta hilberttransform f u fullsimplify convolve f u u principalvalue true hilberttransform v w sin v co v v sinc v diracdelta v co w sin w log w e w co w w bug