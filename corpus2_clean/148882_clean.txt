let say following line lorem ipsum dolor sit amet tag consectetur adipiscing elit phasellus nisi vel lorem dignissim tag vulputate nec ut adipiscing mauris condimentum tag vestibulum quis id nisi placerat vulputate ante quis suscipit nunc euismod phasellus iaculis diam felis ta g tag vestibulum sollicitudin non scelerisque nunc ac erat interesting supposed tag enclosed parenthesis see dirty extra space inside tag missing parent misspelled tag etc would identify line containing tag something similar would expect example retrieve line except last need compare long shorter sub something like levenshtein distance wont work tokenized technique seem rigid although might tokenize everything parenthesis happens parenthesis missing