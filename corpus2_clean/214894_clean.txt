starting side project c requires multiple storage backends driven particular piece logic storage backends would linked decision one use specified runtime example invoke program one set parameter perform operation memory change program configuration would write disk underlying idea storage backend implement protocol word logic performing operation need know backend operating currently way thought provide indirection struct pointer logic calling pointer essentially struct would contain operation needed implement higher level logic e g struct context getresult logic h context context bunch stuff context getresult context context bunch stuff context getresult question way solving problem one c programmer would understand developer trade enjoy using c essentially context struct provides interface like level indirection however would like know idiomatic way achieving