would like simulate n body solar system mathematica found following example opencl support simulate thousand particle real time html simplified code example create minimal system one star one planet plan expand solar system later body code need opencllink openclq srcf filenamejoin opencllinkpath supportfiles nbody cl nbody openclfunctionload srcf nbody sim float input float input integer float float local float float output float output note changed reference float example float otherwise mathematica would complain error numparticles deltat epssqrt po openclmemoryload float vel openclmemoryload float newpos openclmemoryallocate float numparticles newvel openclmemoryallocate float numparticles several possible issue last block code first know epssqrt parameter leave example code second body initial position stored po variable assume reading code nbody cl found specification body positionx positiony positionz mass could wrong third velocity vector stored vel variable first three component velocityx velocityy velocityz know fourth component simulate simple system graphic absolutepointsize point dynamic refresh nbody po vel numparticles deltat epssqrt newpos newvel numparticles nbody newpos newvel numparticles deltat epssqrt po vel numparticles take openclmemoryget po updateinterval boxed true rotationaction clip plotrange two body stay initial velocity attract eachother heavier body pull lighter body towards basically happen fix code simulate proper force solar system edit file provided link mathematica us location internal nbody cl file application mathematica app systemfiles link opencllink supportfiles nbody cl sure source available online update found article explains nbody cl program work general actual implementation also read mathematica documentation page openclfunctionload two site obtained following information proper data type float instead float float used first epssqrt minimum interaction distance squared particle two particle closer simulation compute interaction fourth parameter po variable indeed particle mass fourth parameter vel variable used set value gone mathematica internal nbody cl file line line comparing code one provided found reason program work also written code solve n body system normal way work however slow use longer simulation body two minimal example believe done everything identify cause problem able find solution yet