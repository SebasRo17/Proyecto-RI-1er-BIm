employed recursive call closure order mitigate race condition getting think like know good solution bad solution activity resource var q defer resource num num query getresult query err result result length num q reject subsequent call else q resolve result initial call q promise trying ascertain validity using recursion closure combination acceptable way approaching problem repeating call database without repeating call result sometimes empty curious called record saved however another system assuming speed indexing fault mysql want go aspect system happy got question isolated using pattern recursive call closure way repeat call