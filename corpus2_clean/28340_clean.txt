trying fit parameter function within integral getting error try run essentially want following fit work model b x sum nintegrate total layer p b p p x x nlm nonlinearmodelfit data model b x b x weight error total layer function defined earlier want fit value b covariance matrix clearly something wrong help much appreciated care necessary code amp x ab x mrad exp ab mrad mrad exp ab mrad x exp ab x mrad exp ab mrad lin mrad ab mrad ab mrad crosssection x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x definition total layer total layer x mrad amp mrad exp x mrad mrad lin mrad x amp mrad mrad mrad x mrad crosssection x data data error last least model fit model b x sum nintegrate total layer p b p p x x nlm nonlinearmodelfit data model x x weight error apologize weird number function neutrino data research