layer wrap linq sql datalayer simplified report report db report insertonsubmit report db submitchanges report id submit change report id updated database calling side look like simplified var report new report datalayer report something report id looking id set inside kind side effect ignoring question rely side effect something like instead report report db report insertonsubmit report db submitchanges prevent report report var report clone db report insertonsubmit db submitchanges id maybe even report report report var report clone db report insertonsubmit db submitchanges question raised created unit test found really clear report parameter id property get updated mock side effect behavior felt wrong smell