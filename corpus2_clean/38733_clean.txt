code could solve ode function u eigenvalue e unfortunately e function another parameter k meant upon solving equation carefully specify valid range e k search solution else mathematica would confuse different band e k value attempt make code automatic sliced region thin rectangle e k space specified table l clear k e clear u table solution n ndsolve u x e k x x x k e u x e k u e k derivative u e k u x l e n n k n table eofk n k e findroot u l e k solution n e n n table c n plot eofk n k k plotrange plotstyle rgbcolor n first table solves second order ode function u x e k second table find value u l e k e solves eigenvalue problem third plot various e value found second table function k original code similar messy carefully chosen e k range ndsolve new code work try anyone tell work fix