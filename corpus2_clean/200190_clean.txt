writing lexer javascript pretty typical rule specified regular expression produce token unsure best way handle multiple rule matched existing lexers looked handle picking rule longest match also seems like viable strategy however simply use first rule match current strategy example rule colon equal assign longest match rule would assign first match rule would colon equal obviously desirable implementation would reorder rule put assign rule first follows assign colon equal viable approach use first matching rule advantage disadvantage approach