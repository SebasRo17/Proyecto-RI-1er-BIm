looking library use help mock program component work intermittently usually work fine sometimes fails example suppose need read file program avoid crashing hanging read fails due disk head crash like model mock reader return mock num time hang return garbage otherwise stress testing full program could turn debugging real reader module make real num time hang otherwise obviously particular example could mock manually test random routine however looking system allows implementing failure policy want including fail randomly num time succeed num time fail num time repeat fail semi randomly one failure tends followed burst failure policy tester want define furthermore like able change failure policy runtime using external knob switch removed along rest library prior shipping component loaded dependency injection framework could provide mock one implementation testing release withhold shipped build pig envision interface like interface mocked operation succeeded implementors override version consistent failure policy public boolean attempt failure policy would implementing example would would succeed n time fail time repeat use temporarily need simulate say someone removing external hard drive policy could used changed mock like faker public dosomething faker attempt else throw new runtimeexception policy faker policy seems like something would part mocking library surprised done fact got idea steve writing solid discusses exact idea page num num saying facility common microsoft early num era however familiar easymock neither afaik something similar different syntax hence question library described exist found useful found useful