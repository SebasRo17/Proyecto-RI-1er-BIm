bunch library started exposing osgi module however two requirement new dependency module still non osgi environment first requirement easily solved using d declarative service however second seems slightly difficult currently working solution sure good one explain methodology using simple example feedback welcome suppose service called myservice also num client service b c require instance service osgi would inject instance needed would well however consider running module outside osgi container point responsible injecting proper bean necessary manage singleton osgi service point inject proper singleton three object scale unmanageable level fast solution consists reusing factory pattern public private static instance public static getinstance instance instance new instance private myservice myservice public myservice fall back spi myservice myservice load myservice iterator myservice iterator iterator iterator hasnext myservice iterator next spi module could instance initialize stub default else myservice new myservice public myservice myservice myservice myservice public myservice myservice myservice suppresswarnings unused private activate instance suppresswarnings unused private deactivate instance requires myservice instance simply getinstance use osgi managed instance possible private activate deactivate fall back spi necessary good solution better one solved problem somehow missed obvious answer