needed optimization lately one thing changing sprintf ing bunch std string c style ala foo num sprintf foo str1 c str str2 c str turn microsoft std c str implementation run constant time return internal pointer appears libstdc realize std make guarantee c str hard imagine another way example copied memory either allocate memory buffer leaving caller destroy part stl contract copy internal static buffer probably threadsafe guarantee lifetime simply returning pointer internally maintained terminated seems realistic solution