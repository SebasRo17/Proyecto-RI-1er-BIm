nearest function accepts customized distance function example simple case work well mydist x ab x data randomvariate uniformdistribution nf nearest data distancefunction mydist instance random number data nearest nf particular function could used distancefunction euclideandistance ultimately need flexibility distance function depends another parameter simple example would something like mydist x ab x ab x distance sort value return actual function considerably complicated one already reveals problem goal use mydist way statement work nf nearest data distancefunction mydist nf nearest data distancefunction mydist x nf nearest data distancefunction mydist nf nearest data distancefunction mydist nf nearest data distancefunction mydist know make syntactic sense show flailing around give variety error user supplied distance function mydist give real numeric distance presumably calling mydist properly one fix would make third parameter global probably bad idea since embedded pretty complicated setting question add extra parameter user specified distance function