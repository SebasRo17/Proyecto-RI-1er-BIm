working gui application generates configuration file hierarchy configuration model use tree hierarchy several different context currently use visitor pattern avoid polluting model class context specific interface visitor earlier version used chain instanceof condition instead visitor comparing two approach see following visitor easier safer add new add new declaration generates error visitor implementation instanceof chain remember place extend new configuration element basically instanceof violates dry principle duplicate logic several place visitor pattern efficient chain instanceof condition instanceof great advantage instanceof flexibility example instanceof allows define special solution different subset implementation need handled case contrast visitor force implement implementation every time common solution kind problem adapt visitor somehow provide common solution case