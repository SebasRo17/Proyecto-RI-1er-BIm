okay goal implement strategy pattern tested using sort automated testing tool struggling problem conceptually week want clarify current setup something like php php protected factory public construct factory factory factory factory public create params based something params ask factory give u one strategy class example let assume going execute different strategy based user role e g admin strategy factory make params user role execute strategy using params strategy execute params factory php factory protected admin strategy protected user strategy public construct admin strategy user strategy admin strategy admin strategy user strategy user strategy public make role switch role case admin admin strategy break case user user strategy break implement public execute params important json encode params look sane could improve factory look like bit awkward since returning injected dependency instead instantiating strategy