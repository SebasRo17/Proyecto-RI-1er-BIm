using f log r n r pmax r n pmax run following line assuming r r pmax n n maximize f get following output maximize log r n r pmax r n pmax actually mathematica ignores assumption output function nothing done mathematica know assuming work refine simplify integrate way use maximize assumption think given function analytically solvable edit let g x n pmax x rewrite f f log g r g therefore optimal point found maximizing log g r g equivalently maximizing g r g mathematica cannot solve latter optimization problem well even simplification r n result following problem cannot solved maximize pmax pmax pmax