trying simulate system n pendulum friction mathematica code using npendulos tiempofinal fps g r x condicionesiniciales join table x n n n npendulos table n n npendulos restricciones table x n x n n n n npendulos eqnewton join table x n n x n x n n x n x n r x n n npendulos table n n n n n n n g r n n npendulos x npendulos npendulos x npendulos x npendulos r x npendulos npendulos npendulos npendulos npendulos g r npendulos var flatten table n x n n n npendulos sol ndsolve eqnewton restricciones condicionesiniciales var tiempofinal accuracygoal precisiongoal maxstepsize method indexreduction true constraintmethod projection invariant restricciones work fine friction high npendulos number pendulus low example npendulos r npendulos r get thing like ndsolve ndcf repeated convergence test failure unable continue ndsolve ndsz step size effectively zero singularity stiff system suspected almost sure physic behind system right result example npendulos nice see friction friction ndsolve failing make work