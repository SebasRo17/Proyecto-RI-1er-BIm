faced similar class a1 a2 believe yeah roughly hundred class almost look none class unit tested course thesis class num line much still way much duplicated consider following option num writing test a1 refactor creating abstract base aa pro near totally safe test nothing go wrong con much effort duplication test num writing test a1 a2 abstracting duplicated test using abstraction create rest test create aa num pro less effort num maintaining similar degree safety con find generalized test weird often seems incoherent right word normally prefer specialized test specialized class requires good design goal whole refactoring num writing aa first testing mock class inheriting a1 successively pro fastest way eliminate duplicate con ax class look much danger changing inheriting aa num option first went num ax class really similar bit unsure right way unit testing enthusiast perspective