code work fine defined outside context geta f total module result solve subsuperscriptbox integral f differentiald total length result return false first result n plotshow f max module geta f max return print f plot f plotshow plot showplot polluted outside context plotshow solve ivar valid variable make function plotshow stop polluting outside context