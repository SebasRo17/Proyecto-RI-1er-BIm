build graph need apply function f b pair list element function return link b particular relation hold collect result list use input graph question efficient elegant way tried two way recursive method similar iterative method former went usual recursion limit latter slow believe optimal way performed applying f first element v nd rd last element collecting result remove first list repeat n n evaluation f many evaluation required definitely clean functional implementation short turned efficient liner instead loop please let know thanks advance