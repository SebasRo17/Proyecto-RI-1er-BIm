following mathematica code mathematica version dh x exp log x x f n n integrate dh x x n n g n integrate dh x x n cp n n piecewise f n n log n n n n n et n n piecewise f n n log f n n n n n n h n n piecewise cp n n cp n et n n et n g n n n n n want maximize value h n n use maximize function maximize h n n n n n n n n real run program obtained solution n n many error message obtain maximum