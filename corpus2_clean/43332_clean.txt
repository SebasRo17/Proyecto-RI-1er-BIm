wonder someone happens know actual algorithm implemented particular overload randomchoice handle explicitly presented discrete distribution namely randomchoice w w e e give pseudorandom choice weighted w blazing fast illustrated test notebook btw thing really useful say particle filter know least four algorithm solving problem greedy space array outcome time space sum frequency count work weight integer scaled integer two algorithm explicitly invert cdf either linear search n time n space binary search log n time n space best know walker alias method n space time implemented notebook beat pant others expected still time slower built though still wonder built optimized walker something better