want write calculate params calculate using database wrote test unit testing tdd database access done using another mocked let call accessor mockup tdd cycle requires add test fails make simplest change test pass add accessor mockup call calculate appropriate parameter use accessor would simpler know value could retrieve database every test write could introduce new branch whatever wait tdd refactoring part could refactor using db accessor could refactor way well e g introducing new class encapsulate write test force use database nothing else