database design business logic creating app messaging user difficulty choosing approach relationship conversation user thread show figure really hard grasp concept enter image description threading message work like gmail facebook