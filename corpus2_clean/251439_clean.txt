trying implement promotion engine e commerce application want figure engine work especially situation like following buy x item category get item category b z discount order contains many different item category engine selects item trigger promotion since many combination item qualify combination make rule applicable brute force approach would find possible combination item qualify stop rule applies successfully algorithm promotion pattern use