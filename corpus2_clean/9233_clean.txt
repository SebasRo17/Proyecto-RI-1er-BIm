due confusion terminology part asked wrong question since already received answer shall edit instead ask question meant first place mathematica provides function perform depth first postorder traversal use traversal including scan count case replace position also standard evaluation order therefore function mapped map mapall evaluate depth first postorder quite direct expr scan print expr obvious depth first preorder scan simply storing reordering output adequate change order expression visited scan property build output expression way e g map conserve memory one scan type operation depth first preorder