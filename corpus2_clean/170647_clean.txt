item following attribute itemid weight volume price required skill required item since last two attribute going multivalued removed create new scheme like itemid required skill itemid foreign key itemid required skill primary key confused create use new table option came mind num relationship item required skill one many may create belongs item turn n item get num sound logical provides method query like sugar component create raw material water sugar component create raw material sugar component sugar component count num since required skill may well thought constant since resemble rule may put hash database another sql table query prefer question something like table datamapper datamapper responsible creation integrity table allows query datamapper way require like may sql solved problem using first way created new normalization process appears one many association however new oriented programming know creating new normalization usual way datamapper rather hack whether better way would like know justinc rereading org association several time see datamapper certainly requires separate class join answered question however since robert harvey placed bounty feel responsibility wait little response dynamic way complained cannot find child model container item container managed get work second example self referential association like putting reference others item link include datamapper resource storage name default requirement link belongs require item key belongs required item key end include datamapper resource property id serial property required n link required item item link child key require id n link requiring item item link child key required id n required item self link required item via required n requiring item self link requiring item via require def require others required item concat others save self end def unrequire others link required item required others destroy reload self end end item get sugar item get sugar require sugar require item required item put list requirement really great reading answer see yet normalize database schema honest see point defining relationship product self referential mean would small program certainly would use hash like sugar num water num reflect required item amount according yagni principle 1st option already provides query method simple one provided self referential association however must admit look like stored procedure rather call could mind explain benefit using self referential association difficult understand implement compared simpler approach new oop wonder sort