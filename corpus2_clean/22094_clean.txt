working question regarding divisibility sum factorial decided write code test small value problem using following code f p total mod p range p table mod f prime prime basically code sum factorial dot p find remainder modulo p prime p unfortunately code written take long time run checking first prime take second computer checking first prime took hour way improve code already best optimization involving code used wilson theorem state prime p p equiv bmod p using theorem modify code follows h p total flatten mod p powermod p range p table mod h prime prime considerably faster previous code since checking first prime take second however checking first prime still take inordinately long time