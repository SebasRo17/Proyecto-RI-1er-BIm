wanted something assumed would really simple given two list b wanted take function f b generate list f b f b e cartesian product course really easy principal f outer list b b annoyance come element list case everything break ridiculous thing start happening trivial solution use dummy variable statement replace want later seems fundamentally wrong somehow surely possible work list arbitrary type protect mapping function list list thought missing fundamental strategy edit elaborate actually trying make following work dim say table somefunc dim g op subset range dim dim op previously single matrix need list matricies say want run somefunc matrix list also result come subset function note course subset return list