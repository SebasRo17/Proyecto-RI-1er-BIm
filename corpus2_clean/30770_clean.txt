new mathematica trying measure length diameter rectangular object image wanted fit rectangle object get value componentmeasurements rectangle command work set aspect ratio verticality selection rule type condition rectangle fit far follow image import image object imagens imagecrop image bottom far removed bar bottom imagea imagemultiply imagens imageadjust imageb meanshiftfilter imagea maxiterations imageadjust way enhanced contrast image binab morphologicalbinarize imageb binarize image since binarized image bottom line tree try find follows imager ridgefilter imageb imageadjust binae morphologicalbinarize imager edgedetect binae straightedge b closing c gradientfilter b binarize colornegate dilation c ebin closing imagemultiply binab bottom line tree although problem morphologically tree still belong domain connected make problem complicated since componentmeasurements ebin boundingbox fit bigger rectangle group bunch tree idea fit rectangle tree tried different approach get least length structure use derivative filter horizontal erosion get top structure get position top strcuture pixelvalue positoin get coordinate subtract bottom line qr binarize erosion derivativefilter ebin get max point position ebinm pixelvaluepositions qr max ebinmy table ebinm length ebinm sum raw matrix get baseline ebinmm total imagedata qr get baseline position baseline position ebinmm max ebinmm get length nw difference lenghts subtract baseline ebinmy histogram lenghts still get diameter found nice approach image processing floor plan detecting room border area room name text tried implement follows disttransform distancetransform ebin imageadjust centerareas imagedifference geodesicdilation disttransform ebin disttransform watershed imagemultiply dilation watershedcomponents centerareas image colornegate qr room componentmeasurements watershed boundingbox although fact tree individually morphologically defined give trouble rectangle fit get enter image description anybody able fit rectangle cheer