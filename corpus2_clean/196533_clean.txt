number object storing state essentially two type field one uniquely define node edge etc others store state describing thing connected node connected edge edge part path etc model updating state variable using package method object act immutable anyone model scope object extend one base toyed idea factory approach accepts builder construct applicable however instance already exists ie would created defined builder passed equal existing instance factory return current instead creating new instance equal would compare uniquely defines node node b check dynamic state stuff node currently connected node c e would way ensuring anyone want node automatically know state connection importantly would prevent aliasing nightmare someone trying pas instance node different state node model never heard pattern bit odd would overriding serialization method make work ensure read add list known instance existing factory place well using know whether instance exists without worrying quasi memory leak occuring know confusing prone obscure bug one thing know plugins interface lowest level hardware plugins able state different memory tell memory state inconsistent believe possible despite fetching object exist memory allow building object without checking consistency model addtomodel called anyways existing plugins design written extra state existed worked fine without ever aware using design avoid another question affect posting