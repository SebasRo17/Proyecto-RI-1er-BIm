last week working mapping library involved lot research experimentation cry blaming whiteboard big enough research full idea trying decided working source adapter need build sql expression library query assembled text form instantiated containing multiple object associated part query pertains select query object column table join clause group bys clause order bys limit object passed source adapter take turn query use way fetch common fashion although good enough simple query come complex query join reference condition within clause nested select query e select inner join select foo bar select alice select foo bar trouble designing interface thing could defined would later passed adapter could use whatever way need anyone propose design would allow query defined abstract could interpreted sql query nosql programmatic interface call edit design system table column defined object separately named association linking example coding hoping able execute select new select new fetch instead directly translated sql easy trying plan way returned source adapter internally fetch far system built handle command single select query parsed sub query used conjunction query passed adapter problem determining encapsulate sub query adapter process said converting directly sql work great want use special adapter use sql e xml mongodb adapter without convert sql command sql converting syntax valid specification used may become processor intensive certain query cost quite lot performance