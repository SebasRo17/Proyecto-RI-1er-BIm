correcting bug encouraged work first write test fails given bug fix test pass follows tdd practice supposed good practice noticed tends produce cryptic test come really close implementation instance problem job sent reached certain state aborted retried reproduce bug massive test written thread synchronization lot mocking stuff job refactoring find tempting remove mammoth since would really require lot work fit new design testing one small feature single specific case hence question test bug tricky reproduce avoid creating thing test implementation hurt refactoring readability