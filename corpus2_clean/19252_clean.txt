one use outer compiled function accepts argument alternatively one create compiled function argument used outer trying use following function minimumimagepd compile x real real z real total x z round x z function compiles fine use outer trying following work compile see argument z minimumimagepd z real compile x real real total x z round x z outer minimumimagepd replace z minimumimagepd number follows minimumimagepd compile x real real total x round x function compiles work fine following example outer minimumimagepd flatten give noted oleksandr r using set delayed minimumimagepd solves problem