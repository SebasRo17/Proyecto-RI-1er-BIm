api written c produce result returning pointer allocated memory using c c num wrapped call object keep result std shared ptr far good however c library feature two function every operation one produce possibly never let call pod parameter pod without parameter pas address pointer first afterwards solving thought two different implementation first could sfinae choosing without function like template typename nothrow struct public operator result std shared ptr pod throw private std shared ptr pod result template std nothrow public operator noexcept result result std shared ptr pod without private std shared ptr pod result usage di try di might throw catch std nothrow di di throw sure however since result wrapped std shared ptr also get const std shared ptr pod get result checking could implement another check default implementation would look like struct public never throw const std shared ptr pod get noexcept result result std shared ptr pod without result might throw check result result std shared ptr pod throw private std shared ptr pod result usage di try auto result di check get catch di di get implementation seem equally good bad could decide one use pro con