little trouble substituting function expression minimal example follows diffy u z z unevaluated diffy u z exp k z derivative u z instead want unevaluated u z z u z exp k z e k z k obviously latter practical diffy expression result many step consists many line function derivative u z way mathematica take function substitute expression diffy evaluate tried enclosing expression evaluate work update solution provided work prototype add another level break minimum example u u z diffy hold u z diffy u z exp k z releasehold derivative u z tried holding first expression releasing hold definition second one holding many combination holding releasing nothing worked far fundamental reason working maybe thinking mathematica correctly understand work immediately