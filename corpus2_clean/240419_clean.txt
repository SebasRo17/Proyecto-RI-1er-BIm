consider piece phpunit manual using php example extends phpunit framework testcase public create stub someclass could later injected another removed simplicity stub getmock someclass configure stub stub expects dosomething returnvalue foo calling stub dosomething foo assertequals foo stub dosomething stubbed dosomething foo time later future decide implement someclass like someclass dosomething bar course test someclass test bar totally forgot test foo lying test tdd handle situation