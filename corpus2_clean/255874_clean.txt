let say opaque handle managed simple interface function handle handle init handle handle handle free handle problem size cannot always determined initialization step calculated handle one solution seen calling handle two time first return size needed allocate affect performance bad practice allocate reallocate memory handle even matter using handle type since init free routine made clear