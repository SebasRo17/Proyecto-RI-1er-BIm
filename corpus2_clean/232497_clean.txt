want create html scraper ruby rail want implement progress bar ability pick left interrupted scraping think best way create database table record every single page boolean column called scraped thinking scraper would two part first part would entire site following link saving url table along scraped attribute would also reset database pk sequence meaning id column would accurately imply number record later activerecord base connection reset pk sequence page second part would move table visiting link done scraping page would change scraped attribute second part would start getting first page scraped yet first page page scraped first progress bar would work following principle total page page count done page first page id first result would always num first part reset sequence percentage done page total page num actually see work still really vague scraper would spider visit every single link website would idea want pointer dive would know stray current site thinking regex url make sure contains specified domain visit would visit infinite loop link home page home page guessing conditional would trick new uri current uri visit new uri end would first part actually go saving index every single link creating every single link page iterating find uri exist database actually biggest concern would know stop guessing would check every new link existing link database local program going executed concerned performance better idea new uri current uri technically necessary would save database interaction page exists uri new uri visit new uri end end