select item list selection criterion depends neighbouring item example select index change occurred respect previous element list u desired output r current implementation look like process u select table u u u u length u length probably neither fast elegant scale poorly using multiple neighbour example need one neighbour previous item would interested solution check bigger neighbourhood