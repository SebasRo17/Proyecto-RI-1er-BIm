preface writing template language bother trying talk two kind user extensible node closely relates html tag might look something like div green content rendered div green content div e take bunch attribute plus content spit html little complicated thing like loop ifs includes thing look lot like need processed differently example item div green would item content substituted time trying decide way define directive template tag pretty easy write look something like static div content attrs div content attrs content get stuff curly brace pre rendered variable attrs either dictionary attribute anonymous used like dictionary return html get place simple write tag basically num template directive way defined look like static params content var token regex split params sin select trim toarray itemname token num substring num token num substring num var enumerable ienumerable var sb new stringbuilder var template new template content foreach var item enumerable var new dictionary itemname item sb append template render sb tostring working example basically stuff split argument automatically like template tag content pre rendered either reason pre rendered might want add remove template variable something first case add template variable var new dictionary itemname item render content manually sb append template render question wondering best approach defining custom template directive want make easy possible user know render template know supposed maybe pas template instance pre filled content instead maybe let tamper w template variable automatically render content end otoh thing like condition fails template need rendered lot flexibility need allow thought