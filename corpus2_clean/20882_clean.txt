generating model planetary nebula supernova remnant celestia free opengl astronomy software currently know random point inside spherical shell however still unable generate filament like crab nebula need help see model created nebula model celestia someone suggestion generate random filament random point small part code currently using generate shell nebula x r u phi oblateness r sqrt u co phi r u phi oblateness r sqrt u sin phi z r u r u shell r u phi x r u phi r u phi z r u coords n setprecision flatten table shell random betadistribution alpha beta random real random real pi n coordinatesprecision code defines n point inside oblate sphere n large get uniform distribution point without internal filament like structure distribute n point form n filament inside sphere random lenght randomly oriented parameter specify mean number p point filament approximately n p n picture crab nebula messier edit precision would like reproduce qualitatively crab nebula object made point definite cartesian coordinate x z code compatible mathematica feature desired long filament structure inside nebula ideally would like define statistical distribution variable x z could generate random filament void edit part code using generate model rest code relevant thanks lot responded thanks simon wood code done still issue however see internalcolor rgbcolor color center nebula middlecolor rgbcolor color transition exterior part externalcolor rgbcolor color exterior part minradius min radius distribution maxradius max radius distribution minsprite min radius sprite maxsprite max radius sprite oblateness oblateness spherical distribution coordinatesprecision numberofvoids numberofpoints spritesize r minsprite maxsprite minsprite r minradius maxradius minradius voidpts select randomreal numberofvoids minradius norm oblateness maxradius pt select randomreal numberofpoints minradius norm oblateness maxradius nf nearest voidpts distributedefinitions nf pt parallelmap nest first nf pt spritecolor blend internalcolor middlecolor externalcolor plotcolor colordata sunsetcolors graphic pointsize plotcolor norm sphere pt boxed false background black lighting neutral sphericalregion true filament join spritesize norm list spritecolor norm pt filamentsdata setprecision flatten filament coordinatesprecision code slow way improve importantly issue number point generated intersection several filament much point accumulated problem rendering celestia much sprite location ugly way reduce dilute point important need add constraint shortest distance two point smaller local sprite size add constraint iteration process