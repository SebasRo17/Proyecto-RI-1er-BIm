energy functional want optimize using calculus variation would nice someone could please post working example using mathematica procedure follows specify energy functional compute euler lagrange equation discretize possible run sample data link package calculus variation none providing complete example described paragraph update trying simple lucas kanade energy functional e u x v x int f x x u f x v f dx dy tried link update correct form energy functional courtesy rcollyer e u x v x int f x x u f x v f dx dy question descritize euler lagrange equation solve artificial data extra thing specified question already update complete solution procedure follows e l equation integrand energy functional follows set first variation zero f x f x x u f x v f f f x x u f x v f matrix form look follows simply solve u v two equation two unknown derivative needed descritized example take forward difference assuming distance f x f f f f j f j equation j represent indexing x direction respectively f f f equation function described index describe function temporal direction mathematica provides lot variety descritizing per documentation idea able replace derivative finite difference able solve equation system u v given data thanks lot