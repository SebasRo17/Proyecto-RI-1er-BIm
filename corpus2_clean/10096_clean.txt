code generates list integer one list called example inputlist also master list integer kept present keeplist would like write function keepelements keep integer inputlist exist keeplist alternatively could write function removeelements remove element inputlist exist keeplist since keepelements removeelements generate output list use whichever faster sort minimal working example first section code generate inputlist keeplist used randominteger example generate keeplist note even actual code inputlist keeplist sorted ascending order written keepelements removeelements wondering please help make faster need run either function approximately time quite expensive would like minimize cost much possible advice using position probably relatively expensive perhaps avoid using thank time minval maxval inputlist range minval maxval keeplist deleteduplicates sort table randominteger minval maxval keepelements inputlist keeplist module position position flatten position inputlist memberq keeplist head false inputlist position keepelements inputlist keeplist timing first removeelements inputlist keeplist deletecases inputlist memberq keeplist removeelements inputlist keeplist timing first machine give output