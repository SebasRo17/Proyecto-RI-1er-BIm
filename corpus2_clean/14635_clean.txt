input output service function entity aggregate allowed leave service boundary