distributed system project written class corresponds complex real world business object object lot method corresponding action user agent may apply object result class became complex system general architecture approach lead lot behavior concentrated class lot possible interaction scenario example keep thing easy clear let say robot car class project robot would lot method following pattern sleep awake walk direction shoot direction car car selfdestruct die isalive car would similar turnon turnoff walk direction selfdestruct crash ison robot car implemented state machine action possible state action change state action method throw illegalstateexception called invalid state method tell action possible time although easily state e g sleeping state awake available shoot must awake alive ammo riding car interaction object complex e g car hold one robot passenger another one try enter exception thrown car crash passenger die robot dead inside vehicle step even car ok robot inside car enter another one stepping etc result already said class became really complex make thing worse hundred possible scenario robot car interacts much logic need access remote system result unit testing became hard lot testing problem one causing another vicious circle testcases setup complex need create significantly complex world number test huge test suite take hour test coverage low testing tends written week month later test never lot test broken mainly requirement tested changed scenario complex fail timeout setup configured timeout test worst case num minute long even time long timeouts ensured infinite bug regularly slip production environment robot car scenario gross simplification reality clearly situation manageable asking help suggestion num reduce class complexity num simplify interaction scenario object num reduce test time amout tested edit think clear state machine robot state machine state sleeping awake recharging dead etc car another state machine edit num case curious system actually class interact thing like server ipaddress disk backup user etc robot car scenario case found would simple enough explain problem