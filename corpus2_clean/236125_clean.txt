blocking shown calling monkey patch enough optimal make non blocking gevent handle iteration like front page def front page database db post find find item post collection render template index html database database single post def single post slug post v k v db post find one slug slug iterate found item store post render template post html title post num body post num slug post num extract title slug body