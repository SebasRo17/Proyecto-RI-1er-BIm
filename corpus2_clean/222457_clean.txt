consider following program include stdlib h include stdio h typedef struct const create calloc sizeof num destroy free const get const set const p p s1 s1 num set s1 num ok s2 create s2 num set s2 num ok printf s1 n get s1 printf s2 n get s2 destroy s2 aware anything particularly bad kind design might impact heavily optimizing consideration missing good idea use const c mechanism write access control way