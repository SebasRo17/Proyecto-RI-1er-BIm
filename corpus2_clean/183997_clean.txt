currently writing library helper function produce repetitive markup reference markup function produce curious go unit testing lot unit test needed get full coverage number different variation currently t4 template build unit test every combination input unit test single assert containing reference markup however writing individual bit markup hand would take long time wrote another small helper basically replicates logic testing less flexible manner produce expected occurs may best idea ok approach kind problem best practice surrounding example unit test testmethod public p1 p2 p3 markup p1 p2 p3 assert areequal p1 p2 p3 markup