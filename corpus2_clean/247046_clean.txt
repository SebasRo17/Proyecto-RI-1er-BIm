trying learn continuation use implement coroutines scheme two procedure coroutines b switch following way c continuation define c switch coroutine call cc c define b c switch coroutine call cc c start execution b tested small example indeed execution switch back forth two procedure one two terminates without calling continuation given argument two question num example appropriate idiomatic implementation coroutines using continuation num tail call optimization mandatory implementing coroutines continuation solution switching often two coroutines might cause stack overflow scheme provide tco solution require tco edit basile comment seems sufficient answer question background question would like approach implement coroutines tco