want flatten series fisheye image remapping rectinlinear projection achieve need able remap pixel image using fisheye correction formula x coordinate achieve found question question wonder use fisheye correction far tried use imagetransformation get function work properly f pt module rd polarcoor ru newcoor rd norm pt norm polarcoor coordinatetransform cartesian polar pt ru tan arcsin polarcoor coordinatetransform polar cartesian ru polarcoor imagetransformation image f first translate image coordinate polar coordinate calculate new r ru r undistorted translate back cartesian coordinate ru tan arcsin polarcoor based link random value chosen f fi get error message saying function map anyone idea fix suggestion improve code example fisheye image update changed code image import r pt module rd ru polarcoor rd norm pt ru transformation formula arctan pt ru co sin using ru sqrt rd imagetransformation image r datarange give enter image description using ru arctan rd imagetransformation image r datarange give enter image description look like step right direction straightened line got trial error know correctness