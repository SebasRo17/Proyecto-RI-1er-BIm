add new funcionality web service legacy project thinking best approach concrete situation web service simple receives xml file unmarshalling generates response object marshalling finally sends response xml file every xml file received web service always responds xml structure generate different xml file according xml received controller marshalling unmarshalling operation controller instance depending xml received need marshalling method others trying make change legacy source best approach first approach factory pattern controller instance want keep far go structure think one bit smelly else else else hope question well understood