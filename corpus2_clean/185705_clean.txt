trying implement rule programmatically trouble finding good way x iterate sub interval finding area adding result returning help would awesome