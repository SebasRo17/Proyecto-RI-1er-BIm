need compute using ndsolve routine function f x two possible value f x f x depending whether argument exceeds critical value x x c problem ndsolve routine return jumping result region x x c example problem assume following system simple forced pendulum nonlinear frequncy shift called fold effect w g q hu g w w x e g w q ab hu ndsolve e tmax maxsteps infinity accuracygoal maxstepsize interested dynamic depending parameter x g q hu constant exact solution p contourplot hu g w x q x plotpoints contourstyle dashed thick show p plotrange numeric solution using module calc x module q x w g q hu g w w q q ab g g tmax e g w hu ndsolve e tmax maxsteps infinity accuracygoal maxstepsize evaluate ab tmax h dynamic z z z z z temp calc z h append h z temp num listplot h plotrange joined true plotstyle thick show num comparing show p num comparing ndsolve exact solution solid line ndsolve solution dashed line exact solution result number jump greatly depends initial condition enter image description enter image description problem want divide two branch function f f plot independently using ndsolve force go along chosen branch jump