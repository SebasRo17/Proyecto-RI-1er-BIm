noticed duplicate codebase working appended filename directory path decided refactor application working well tested however set first unit test two day ago concerned get much test possible whenever touch began write unit test like pseudocode directory directory expect directory b b however remembered application cross platform thought directory directory separator platform nix else expect directory b separator b remembered roy osherove say section num num avoiding logic test art unit testing num following inside test test contains logic switch else statement foreach loop test contains logic usually testing one thing time recommended test less readable fragile test logic also add complexity may contain hidden bug seem case testing one thing time would case logic block test pattern cleanly testing behavior result expected different different platform