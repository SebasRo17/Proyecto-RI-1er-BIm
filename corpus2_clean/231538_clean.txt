fairly complex project 10k loc duplicated hard tell hundred global variable project dependency project many project depend mostly inherited responsibility refactor part project enclosed section module none original developer remain devised way structure routine class breaking forming hierarchy little strategy nothing fancy hope objective make easier developer add functionality make possible add proper unit test new class provide calculation applied currently global array updated calculation need maintain state sum last last processed vector etc could see functors unsure deal globals though think able change globals non global dependency module going refactor also many new class need share globals shared new class leave thinking using registry least use define variable limit scope provide context wherever used globals shared new class either make base reference use singleton pas around combination sure using pattern harm good question better live existing global variable aggressively tune pattern like singleton registry suggestion scheme better scheme