trying learn various way problem distributed queue may solved would like know product service implementation research paper already implementation face many challenge forced make tradeoff strong loose ordering idempotent put queue fit single machine queue fit single machine many machine crash potentially lose tolerate net split automatically reconcile net split fixed guarantee delivery client crash guarantee message delivered node crash given point come back send junk add node remove node running cluster without time upgrade node running cluster without time without problem heterogeneous server stick queue group server example queue allowed european datacenter make sure put replica least two available illusion implementation able say yes merely interested hearing various implementation work tradeoff made perhaps decided particular set tradeoff also challenge may missed list