first question wrong forum seems pretty conceptual looking something go conventional wisdom want get feedback whether totally insane result problem critique away postgresql num may moving num part project iterate seem sane break 1nf way looking debugging much people see problem might lead problem double entry accounting financial transaction journal entry arbitrary number line either left debit right credit modelled single negative positive credit vice versa sum credit must equal zero go single amount field sum amount must equal zero financial journal entry sql based database pretty much required sort work way express sort constraint natively approach enforcing database seems rather complex write model journal entry append possibility add delete model subject different set restriction applicable allow deletes probably using simple delete cascade designation foreign key require deletes go dedicated stored procedure enforce constraint insert selects accommodated update deletes task proposed solution proposed solution break first normal form model constraint array tuples trigger break row another table create table journal entry id primary key account id reference account id journal entry id bigint adding reference later amount numeric would add table method extract credit reporting purpose create replace journal return numeric language sql immutable select case num amount num num amount num else end create replace credit journal return numeric language sql immutable select case num amount num num amount else end journal entry table simplified example create table journal entry entry id primary key natural key journal id reference journal id date posted date reference text description text journal line journal table check constraint create replace running total journal entry return numeric language sql immutable select sum amount num journal line alter table journal entry add constraint check journal entry running total num alter table journal add foreign key journal entry id reference journal entry entry id finally breakout trigger create replace je breakout return trigger language begin op insert insert journal journal entry id account id amount select new id account id amount new journal line new else raise exception operation allowed end end finally create trigger insert update delete journal entry row execute procedure je course example simplified status table track approval status allowing separation duty etc however goal prevent unbalanced transaction feedback sound entirely insane standard solution getting point say looked four different current erp solution problem num represent every item debit credit different account num use foreign key item table enforce eventual running total num num use constraint trigger postgresql num forcing validation solely app logic concern num pretty limiting hard audit internally programmer transparent strike difficult work future second strike complex required series contraints foreign key self make work therefore strike complex hard sort least mind thus hard work fourth could done force access stored procedure anyway common solution app total thing throw otherwise however think proof constraint followed superior test case question becomes whether fact generates insert rather solving solved problem case everyone agrees solution