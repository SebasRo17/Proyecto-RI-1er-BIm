need escape special character sent apache since production server want fastest possible seen multiple way using pattern using replace using library see wondering trivial case regex custom optimized lucene support escaping special character part query syntax current list special character escape character use character query new query length num c length query length currentindex num num length c query charat switch c case case case case case case case case case case case case case case case case currentindex currentindex c break case case num length query charat num c currentindex currentindex c currentindex c break default currentindex c query new num currentindex system println test query