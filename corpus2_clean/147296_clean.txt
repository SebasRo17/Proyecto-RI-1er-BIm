starting new project trying hard use tdd drive design pushing year finally got approval spend extra time project use learn properly new module tie existing system currently access happens webservices part thin wrapper database stored procedure one requirement given store purchase order considered valid application po considered valid ship date fall withing given range store opening date new store put logic application going bring back million po get dozen apply could apply store given constraint thinking could pas date range proc use value valid po add another requirement considered valid po test verify keep working using orm unlikely happen call db test stuck thought mock valid others bad local repository throw exception bad occurs test exception get thrown invalid returned proc mock used testing make sense better way update able use ef would seem need figure use make testable still able rely stored procedure difficulty scattered across several database