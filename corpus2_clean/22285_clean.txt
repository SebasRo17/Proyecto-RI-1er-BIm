vector n degree n polynomial x z whose coefficient inhomogenous linear expression n variable want write linear equation n variable say coefficient identically zero n used combination various map coefficient coefficientlist command result much slower wanted tonight discovered coefficientarrays command documentation seemed built exactly job surprise found replacing one coefficient call coefficientarray dramatic improvement replacing coefficientlist disaster course know replace good one bad one curious following code set test data actual use f polybasis random polynomial part larger computation found could use random data profiling without changing speed n f sum random x j z n j n j n polybasis table sum random x j z n j n j n n aa table j n j n bb table b j n j n cc table c j n j n mm x aa bb z cc leftker mm polybasis prepend constantarray n f used absolutetiming eql flatten map coefficientlist x z leftker null kind slow shorteql select eql var flatten join table j n j n table b j n j n table c j n j n absolutetiming big map coefficient var shorteql null really slow absolutetiming small shorteql map var null significantly slow replacing last two command coefficientarrays huge gain absolutetiming small big coefficientarrays shorteql var null yippee replacing kind slow command coefficientarrays gain little absolutetiming eql coefficientarrays leftker x z null flatten eql run many minute without stopping normal eql question flatten ing output coefficientarrays bad something smart improve eql flatten map coefficientlist x z leftker curious trying remove bottleneck algorithm described