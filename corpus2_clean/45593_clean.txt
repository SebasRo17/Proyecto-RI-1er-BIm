order work list effectively using common recursive pattern functional programming often convenient worked linked list representation look like shortlinked b c end procedure usually flatten back however possible may wish map function exact way use map regular list would want function following maplinked f shortlinked f f b f c f also want work head list exactly like map often convenient use head list make linked list shortlinkedcons con con c con b con con maplinked f shortlinkedcons con f con f c con f b con f con function efficient possible could working list ten thousand element also important function work element list list e head linked list cell naively flatten ing list reconstituting using fold going work function must satisfy maplinked f f f f doubtless lot way solve problem fastest edit add also avoid going infinite loop list terminated properly h last tail position edit list long ten thousand element lot approach bump recursionlimit cause kernel crash due presumably stack overflow