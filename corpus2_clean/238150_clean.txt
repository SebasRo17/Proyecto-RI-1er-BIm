say ship e price price base price e num export price total price base price e elseif ship price price base price num domestic price total price base price multiple identical block like also ship similar structure basically add pdf say domestic export along option also computes price add total thought refactoring want remove duplication also want abide solid principle e separation concern see two thing computes price add item pdf surely split two separate function still end duplicated need check ship equal e place good need add 3rd option change two place move check e body still duplication switch ship case cost price base price break case e cost price base price e break get two long line basically single character change maybe kind acceptable quite liking need change number parameter example base parameter etc need change one place basically far matter way spin end duplication somewhere mean unavoidable guess okay come advice seeing way separate concern remove duplication minimal number place ideally one need change something done