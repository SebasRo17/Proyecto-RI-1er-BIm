matrix want matrix consisting first n row rank n minimal generally want shortest start piece list criterion start piece give true general problem wrote mytake dissatisfied procedural nature implementation mytake list crit catch candidate list range crit candidate throw candidate length list fail firstfullrank matrix fullrank matrixrank matrix mytake matrix matrixrank fullrank firstfullrank give short looking fast functional one liner implementation mytake firstfullrank edit please assume matrix lot row many column result significantly fewer row full matrix way functionally without using range length matrix even worse table start piece