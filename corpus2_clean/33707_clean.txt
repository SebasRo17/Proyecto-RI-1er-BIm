found really weird issue using ndsolve processequations inside module start setting historylength define function take integer creates table statedata object desired length return list containing string list statedata object show much memory local object use make use print function historylength clear prepareequations prepareequations imax module statedatalist output statedatalist table first ndsolve processequations imax print bytecount statedatalist bytecount statedatalist output hello statedatalist print bytecount output bytecount output output first want see much memory use calling function memoryinuse alright mb call function input value function time print much memory local object use finallist prepareequations bytecount statedatalist bytecount output output take mb would assume total memory used calling function would mb instead memoryinuse mb hence seems vanish mb look global context finallist take much memory bytecount output change output return statedatalist example output hello memory leaked extra memory go return list statedata object notice local variable leaked global context removed remove select name global stringmatchq digitcharacter memory used memoryinuse seems major impact look global context look like reverse sortby map bytecount toexpression name global last tableform finallist statedatalist statedatalist prepareequations output output imax memory leaked show someone help figure