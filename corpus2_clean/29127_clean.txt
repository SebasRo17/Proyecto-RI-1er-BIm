following code run fine run interactively clear realpath realpath path import readlink path text testsymlink filenamejoin homedirectory testsymlink test realpath testsymlink particular variable test get expected non null value code run fine also put standalone script execute path script put code kernel init file fails variable test get incorrect value null variable testsymlink hand still correctly set furthermore evaluate realpath testsymlink interactively newly started mathematica session get error shown post title twice mathematica graphic figure getting error may give someone else clue snippet failing first place run part executing kernel init p appears offending snippet put session corrupted state attempted upload image shown got error mathematica graphic first restart mathematica deleting offending snippet kernel init could upload image