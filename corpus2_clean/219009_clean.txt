grail application number service starting get large flow majority service method num database read return mongodb num iterate cursor perform operation num result operation beginning consider moving logic step num groovy class order clean base allow unit testing however reading guideline state majority logic go service moving logic groovy class going best practice