always difficulty writing non trivial compiled function using mathematica please see following code clear longtermcompiled longtermcompiled compile real module len length replacepart transpose identitymatrix len len table len expected matrix two dimensional upon executing definition complained replacepart argrx replacepart called argument argument expected understand error message following code work without problem clear longtermx longtermx module len length replacepart transpose identitymatrix len len table len wrong