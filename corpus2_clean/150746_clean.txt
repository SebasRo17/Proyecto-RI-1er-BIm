file num num line file b num million line created bash script file file b writes result grep new file whole process taking num hour improve performance script using grep f num grep command file look like num num file b like num num num num num num bash pick next file file b pattern found file b write file result txt read r grep f m1 done