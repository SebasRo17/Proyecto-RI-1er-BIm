given tiled background depth map dimension tried produce stereogram using following code adopted method given simon wood simplified way however defect outcome wrong code depmap import flower import wid hei imagedimensions flower imdata constantarray hei wid imc imagecrop flower hei right exflower imagedata imageassemble flower imc shift round imagedata depmap r r hei r c c wid c imdata r c exflower r c shift r c image imdata depth map x enter image description tiled background x enter image description outcome pyramid flower expected instead triangular stack triangular hole enter image description