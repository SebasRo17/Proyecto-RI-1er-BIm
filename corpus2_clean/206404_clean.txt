inherited lot poorly designed test putting test place attempt major refactor problem unit test problem unit test later decide liability either get rid change purpose either way original gone unit test fail spend lot time putting unit test design change dramatically wont unit test useless major redesign would integration test valuable chose program feature know change create integration test ensure indeed change might change behind feature feature still work integration test still pas know lot question similar topic asking specifically use unit test v integration test messy legacy