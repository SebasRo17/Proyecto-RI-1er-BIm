functional language definition maintain state variable haskell clojure others provide software transactional memory stm implementation conflict two approach