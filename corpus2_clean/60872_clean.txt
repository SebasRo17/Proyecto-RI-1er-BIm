list product offered n provider provider quote u price specific date price effective provider decides set new price case provider give new price new date mysql table header currently look like provider id product id price date price effective every day compile list product price effective current day product list contains sorted list provider particular product way order certain product whoever happens offer best price get effective price sql statement return row date price effective result set processed ruby script sorting filtering necessary obtain file look like product id 1 provider 1 provider 3 provider 10 product id 2 provider 3 provider 2 provider1 provider 10 work fine purpose still itch sql table probably best way store kind information feeling kind solved previously creative way better way store information sql using sql better approach one using