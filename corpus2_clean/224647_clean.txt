domain model use aggregation relation e contains zero object b use implementation represent aggregation field list b field b way root aggregation tree class b may also contain shallow field e field float need define different kind equality method model num shallow equality compare two instance comparing shallow field e leaving reference domain object case interested know two node content num deep equality compare two instance comparing shallow field recursively comparing child case want check two complete tree equal considered overriding hashcode equal method know shallow equality deep equality decide two equality method implemented equal define another important choice equal determines thing membership set one two possibility shallow versus deep equality considered idiomatic choice implementing equal