suppose xml config file like following myapp setting mailto mail service configuration parameter mailto sm service configuration parameter setting node always structure node may different structure depending whether mail sm class obviously mailto since may either mailto since mailto superclass common interface turn implemented mailto since mailto anything common interface empty collapse marker interface think given situation implementation possible client typecast mailto must handled differently nevertheless puzzled design pattern gof book seem consider kind situation real world pattern would apply case