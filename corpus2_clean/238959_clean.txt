say example got restful webservice need support creating widget via posted http request need num deserialize posted widget num validate deserialized widget num persist widget backing service num send success response back client problem sla allow num block num persistence case take long client need know right away request succeeded standard use case num http status almost everywhere look assumption way solve background expensive persistence part typically awkward process many moving part often latency e g making blocking call separate queuing service simply parallelizing num num using native construct generally question switching order num block num near tell mainly web app server built fundamental assumption process child forked free killed reused soon sent response equivalently response sent app finished everything going intensely frustrating context like program control flow running phusion passenger ruby rail setup want thing send response left wide variety option seem consider perfectly natural acceptable say serialize application state post amazon sqs basically separate web service poll sqs deserializes old application state thing application state set way wanted sending response anything written def create widget widget new params widget widget valid respond widget widget save else respond widget error end end pervasive assumption web service stack never support kind flow hidden drawback tradeoff making possible