take task reimplementing already defined interface set c header file relatively large old base would like complete test coverage possible detect reimplementation error early easily possible problem already existing base designed easily testable large class function high degree coupling function many side effect etc would nice hear previous experience similar task good concrete tip went retrofitting automated test unit integration regression etc legacy