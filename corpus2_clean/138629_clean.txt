imagine database billion row say payment need calculate average payment sum select avg amount payment need calculate figure every day running formula whole dataset overkill bicycle calculate every second average speed average cadence rpm even though keep speed second may ride hour day month without resetting average counter done simple way keep average number second add new item sum new average current speed old average count count num know math clear sum product calculated even update done way substract old aggregate add new want know database programmer understand query db may different criterion select avg amount payment condition 1 condition 2 yet possible cache average information row sequence filtering condition done anywhere