usual partition function handy little thing partition range partition range one application working required write particular generalization partition functionality allowed generation sublists unequal length long length appropriately commensurate let assume purpose question list length commensurate guaranteed welcome generalize incommensurate case generalization action multisegment lst list scts list block acc acc prepend accumulate padright scts length lst mean scts scts inner take lst acc rest acc list multisegment characterrange x b c e f g h j k l n p q r u v w x thanks halirutan optimization help multisegment problem hit wanted multisegment also support offset like partition want able something like following multisegment range might version multisegment offset accomplished