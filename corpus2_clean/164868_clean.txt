read blog post jimmy bogard drawn comment fall component support given layering architecture even nhibernate use isession directly controller action day make thing complicated commented post ask question question jimmy question option would testing controller logic mock nhibernate isession curious option utilise isession directly controller