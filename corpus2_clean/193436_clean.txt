recently completed project handling credit card processing one difficulty faced handling delay possible failure notification message complex example external system sending request payment system turning request request payment gateway sending user gateway waiting user perform payment user returning back system held system receives notification success failure sending user back external system depending failure even difficult fact upon failure send notification gateway attempt send notification every num minute number hour solved using database record pending transaction detecting success failure plus timed delay listener notification transaction handling reasonably difficult must solved gazillion time best practice see future going writing handling system managing time delay possible network failure want following best practice book article recommendation would great thanks advance