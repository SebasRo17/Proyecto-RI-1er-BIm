looking finding efficient way scale thousand restaurant reservation search ideally would efficient answer query like find restaurant availability num people num num time slot based num minute interval e g num num num num num num using document database ravendb issue conceptual think dependent underlying datasource restaurant different amount capacity example restaurant might fit num people restaurant b might fit num first instinct restaurant collection reservation collection however cannot think way efficient query made restaurant reservation collection actually get result restaurant enough space particular time booking sample object restaurant id capacity reservation id datetime option came mind actually keep track day timeslots day num min interval booking respective timeslot updated hence query would simple search timeslots would work tried yet involves maintenance best way go problem maybe side seeing computing availability booking idea second option compute availability booking would add another datetime e g num num num num num background task would create new time slot restaurant subsequent day example creating num day advance user book maximum num day today day would different timeslots example num num num num num num forth initially would set num maximum booking restaurant e g num reason restaurant availability might based time num might availability num num might expand num booking say num people made num num num num num respective timeslot would added num search need done one would search easily make sense issue constantly create new object available search keeping sync new booking made look like lead system prone