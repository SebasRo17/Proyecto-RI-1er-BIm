need struct analogue mathematica reading post came conclusion system utility hashtable one best option rather terse write let say hash table h system utility hashtable way auto magically transform h somekey value would evaluated system utility hashtableadd h somekey value h somekey would evaluated system utility hashtableget h somekey yet able find right combination get work ruledelayed still bit mysterious edit test case h system utility hashtable h first test h second another test system utility hashtableadd h third yet another h first test h second another test h third yet another system utility hashtableget h first system utility hashtableget h second system utility hashtableget h third possible dot hold second argument overloaded definition would still work second h second return another test h unevaluated second h second clear second h first first h first break dot prodocut clear b c b c c b c obvious work unprotect dot dot h system utility hashtable key system utility hashtableget h tostring unevaluated key dot set dot h system utility hashtable key value system utility hashtableadd h tostring unevaluated key value one leaf h work break dot product definition work around sort work unprotect dot set dot h key symbol system utility hashtableget h tostring unevaluated key dot set dot h key symbol value system utility hashtableadd h tostring unevaluated key value first version work also possible get dot hold argument overloaded version