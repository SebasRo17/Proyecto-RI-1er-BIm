title say company reusing legacy firmware project microcontroller device written completely plain c part obviously wrong need changing coming c tdd background like idea randomly refactoring stuff test assure u functionality remains unchanged also seen hard find bug introduced many occasion slightest change something believe would fixed regression testing used lot care need taken avoid mistake hard track bunch globals around summarize add unit test existing tightly coupled refactoring tool recommend less important still nice know directly involved writing responsibility app interact device various way would bad good programming principle left behind chance could used