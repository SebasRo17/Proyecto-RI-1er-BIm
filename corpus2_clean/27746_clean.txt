nonlinear control system system x u whenevent mod x x whenevent u x u control e xref x whenevent mod tau u kp k sign e k sign e e xref params kp td tau xref k k simulate using ndsolve sol ndsolve system control params x u discretevariables u would like add random noise system far nothing seems work using randomreal normaldistribution problematic sample ndsolve using wienerprocess itoprocess also seem work system contains discrete variable cannot convert state space model statespacemodel work linear system