building web application asp net mvc num net num trying unit test much possible controller action detail customerid display view model customer public customer public id get set required display customer public get set public ilist comment get set controller action look like public actionresult detail customerid var model service get customerid model view model redirecttoaction index see directly call service get public customer get id repository get id service icustomerrepository injected call get repository directly question regard populating comment collection comment populated test detail view place display list comment need see two way populating num icustomerrepository get implementation might lead situation using get displaying comment would mean expensive maybe join using result num service injected either service controller used populate comment required preference secondly would test second instance could assert populate customer customer called mock controller service first situation responsibility lie repository unit test sense untestable concrete implementation used actual app need speak db integration test missing something would bad idea