following one mysterious performance problem encountered came extending booleval function mentioned looking workaround since whole purpose writing booleval increase performance problem replaceall unpack packed array appear left hand side right hand side contains rule example packing absolutetiming range x b c e f g h j null work fine let uncomment last rule rule total absolutetiming range x b c e f g h j evaluation developer frompackedarray punpack unpacking array dimension null developer frompackedarray punpack unpacking array dimension frustrating debug encoutered performance problem performance bad put code function originally code similar unevaluated range x b c e f g h j unevaluated prevents unpacking without preventing replaceall working orignally needed unevaluated reason unrelated problem let put function clearall fun fun arg unevaluated arg x b c e f g h j absolutetiming fun range evaluation developer frompackedarray punpack unpacking array dimension null problem back packed array passed function argument part function definition question replaceall unpack like importantly workaround unpacking apply booleval unevaluated workaround work package code function