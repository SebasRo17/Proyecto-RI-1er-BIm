update eventual route followed adapt version nm simplex written c link mathlink tested fully post playing around oleksandr compiled nelder mead minimization function presented shaving last m nminimize first create sample data creates noisy version gaussian function gf x sqrt pi exp x addsomegaussiannoise x sig map randomvariate normaldistribution sig x interval value range interval cleandata gf value data addsomegaussiannoise cleandata enter image description way minimise model ran neldermeadminimize linked question fitter block data neldermeadminimize block x value norm data sqrt pi c exp x b c b c fitter block data neldermeadminimize block x value euclideandistance data sqrt pi c exp x b c b c fitter block data neldermeadminimize sqrt sum ab data x interval sqrt pi c exp x b c x value b c fitter inter interval x range length neldermeadminimize sqrt total ab x sqrt pi c exp x inter b c b c fit fitter data absolutetiming b c fit fitter data absolutetiming b c fit fitter data absolutetiming b c fit fitter data absolutetiming b c return result varying time interestingly euclideandistance slightly faster norm option well written option better obvious one choose extend multivariate gaussian function understand better meanwhile first option using norm euclideandistance good allow different minimization function question asked recently scenario happy using nminimize looking apply alternative nelder mead method see performance gain question therefore get option work data rather data e fitting gaussian function x option improved fitting take second namely epsilon machineepsilon minimizer neldermeadminimize dump compiledneldermead function b c block range length data sqrt total ab data sqrt pi c exp interval b c b c returnvalues augmentedoptimizedparameters serialfitter compile data real interval real minimizer randomreal epsilon compilationoptions inlinecompiledfunctions true runtimeoptions speed evaluatesymbolically false compilationtarget c serialfitter data interval absolutetiming update creates data gf x sqrt pi exp x addsomegaussiannoise x sig map randomvariate normaldistribution sig x interval cleandata table gf x x interval interval data addsomegaussiannoise cleandata try fit flattened data vector prior fitting fitter compile data real interval real neldermeadminimize dump compiledneldermead function b c block x range length data n sqrt length data sqrt total ab data x sqrt pi c exp floor mod x n interval b c quotient x n interval c b c returnvalues augmentedoptimizedparameters randomreal machineepsilon compilationoptions inlinecompiledfunctions true runtimeoptions speed evaluatesymbolically false compilationtarget c fitter flatten data absolutetiming however get error compiledfunction cfte compiled expression rank tensor machine size real number compiledfunction cfexe could complete external evaluation proceeding uncompiled evaluation nearly solution problem quite update first error cfte refers returnvalues option change augmentedoptimizedparameters optimizedparameters error say compiledfunction cfte compiled expression rank tensor machine size real number see changed length function expecting return value rank tensor