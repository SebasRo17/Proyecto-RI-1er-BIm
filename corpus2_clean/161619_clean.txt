reading art unit testing roy osherove section num writing maintainable test author note smell note refactor internal state visible outside test could considered smell sign something might wrong design logic smell refactoring expose collaborator smell refactoring collaborator need stub mock anything edit author mean collaborator dependency example dependency class access database access o file system defines stub begin use word collaborator stub controllable replacement existing dependency collaborator system author example smell trouble understanding picturing would look like someone explain little perhaps provide concrete example