install able mathlink program written c would like use custom message handler point c source code call mlsetmessagehandler standard structure installable mathlink program int main int argc char argv return mlmain argc argv first tried something like look ok void msghandler mlink link int msg int arg switch msg case mlinterruptmessage case mlabortmessage myabort break default stdhandler link msg arg int main int argc char argv mlsetmessagehandler stdlink mlmessagehandlerobject msghandler wrong place set return mlmain argc argv showing code full also get feedback structure message handler function work two reason mlsetmessagehandler fails return code mledead assume mean link yet initialized suppose done mlmain mlmain call mlsetmessagehandler overwrite previous one question simpler way fix writing mlmain replacement mlmain generated mprep