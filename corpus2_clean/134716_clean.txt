trying add couple test legacy c project project basically consists command tool print something stdout every time event happens since writing unit test would pretty hard given fact module pretty tight coupled trying write functional test order validate current behaviour go splitting module unit test make sense testing framework something like script keep mind project pure c handle functional test basically call command tool fake expect valid