let sample list l b c e f g u h k j k q w r x arrayrules l arrayrules rect nonrectangular array encountered error thrown wondering someone need preserve list structure using similar kind functionality might step needed intention pas data replace later rather rule arrayrules could parse list find position information like arrayrules using following code listrules l list module l l l po tpos trpos sp ntrpos temntrpos fin fin l l map position l l infinity e e po table list length last sortby po length length tpos table length po padright po po length po tpos listrules listrules l tried create back list using following method createlist list module tpos trpos sp ntrpos temntrpos x h trpos table tpos randominteger length tpos sp sparsearray trpos ntrpos normal sp temntrpos ntrpos h b h b b b temntrpos createlist listrules give show able retain nesting structure extra brace associated tried use dimension depth etc get rid nesting single element associating dimension original list flattening maximum dimension rest sublist case multiple nesting failing keep number brace source destination