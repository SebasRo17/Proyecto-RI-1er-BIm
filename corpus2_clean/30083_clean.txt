following footstep blog post mathematica took microscope picture particle surface attempted write script identify count automatically however difficult time seperating closely spaced particle maxdetect method blog post seems work well data set find failure surprising picking dark spot hand fairly trivial imagine one print surface darker pixel value represent depression problem could solved rolling marble around seeing stick picture data enter image description first thing binarize kittler illingworth minimum error thresholding method color negate data using command colornegate binarize image method minimumerror yielded enter image description attempted apply imageadjust distancetransform image yielding enter image description applied maxdetect yielding enter image description interestingly seems ring local maximum around particle even use erosion extensively still seem significant cluster local maximum corresponding particle difficult time using maxdetect method aforementioned blog post individually identify count particle let say precise centroid coordinate particle important know exactly nice method assigning distinct morphological component coordinate particle without lot hand tuning perhaps end something like hand identified particle enter image description