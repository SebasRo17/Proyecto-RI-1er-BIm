following setup project public system web httpapplication public static sessionfactory get private set public beginrequest delegate var session sessionfactory bind session endrequest delegate var session sessionfactory getcurrentsession session session unbind sessionfactory session dispose protected application start arearegistration registerallareas filterconfig registerglobalfilters globalfilters filter routeconfig registerroutes routetable route bundleconfig registerbundles bundletable bundle var assembly assembly getcallingassembly sessionfactory new assembly server sessionfactory public apicontroller private readonly isession session public session sessionfactory getcurrentsession public ienumerable position get var result session query position cacheable tolist result throw new new httpresponsemessage httpstatuscode notfound result public httpresponsemessage post dto todo map dto model ienumerable position position using var transaction session begintransaction session position try transaction commit catch staleobjectstateexception transaction transaction isactive transaction rollback var response request httpstatuscode created dto response header location new uri request dto response public put id todo implement put throw new notimplementedexception public delete id todo implement delete throw new notimplementedexception sure recommended way insert session controller thinking using di sure inject session opened binded beginrequest delegate controller constructor get public isession session session session question recommended way use session asp net mvc web api