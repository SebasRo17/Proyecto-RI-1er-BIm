given following public calculate inputstring parser new parser inputstring result parser parse parser private inputstring public construct inputstring inputstring inputstring public parse dependency parser however wanted use dependency injection unit testing would cause problem send parser constructor like calculated inside private parser public construct parser parser parser parser public calculate inputstring result parser parse throw exception since provided solution found modify class took parameter constructor utilize setter instead example however think might better solution sometimes modifying existing class cause much harm benefit injectable class allowed parameter must take parameter constructor would way inject properly update clarification problem happens production decide new new parser inputstring way predict inputstring calculated inside update num clarification trying find general solution problem example class num num num parameter constructor one