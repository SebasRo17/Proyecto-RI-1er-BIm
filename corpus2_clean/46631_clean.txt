writing program play game pente struggling following question best way detect pattern two dimensional board example pente pair neighboring stone color captured flanked side opponent find stone captured next move following board sample board show one possible straightforward solution defect hard extend interesting pattern e three stone color row surrounded empty space four stone color row flanked one side open another etc wondering whether way define dsl detecting dimensional structure like board sort pattern matching p would also appreciate advice simplify code make idiomatic example really like way sortstones defined straightforward solution one way solve problem see graphic primitive generate display random board enumerate subset stone board select form aabe abbe pattern e denotes unoccupied space let store board list black white stone black black black black black black black black black white white white white white white white white white first define istriple check whether three stone sorted x coordinate row next follow abb aab pattern istriple b c b b b head head c black white x coordinate equally spaced b b c b b c next ab b ab b next determine coordinate color stone kill pair killerstone b c head head b black white head c b b head c b c b finally select triple killer stone space already occupied sortstones l sort l orderedq black list white list triplestokill board module triple select sortstones subset board istriple select triple block k killerstone freeq board k k displayboard triplestokill partition graphicsgrid straightforward solution graphic primitive randompoints n randomsample block nn ceiling sqrt n flatten table j nn j nn n n number move number point randomboard n module point randompoints n join take point n x black x take point n x white x grid minx miny maxx maxy line join table minx maxx miny maxy table x miny x maxy x minx maxx displayboard board module minx min first board maxx max first board miny min board maxy max board n graphic grid minx miny maxx maxy board black n black disk n white n thick circle n white disk n imagesize small frame true displayboard board point show displayboard board graphic map red disk point