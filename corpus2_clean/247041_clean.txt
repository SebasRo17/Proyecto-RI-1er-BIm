shelve module make easy persist dictionary disk right condition documentation shelve give example demonstrate one pitfall using shelf import shelve shelve open filename snip opened without writeback beware xx range num work expected xx append num xx still range num documentation explains semantics shelf cannot know mutable persistent dictionary entry modified default modified object written assigned shelf see example say shelf behave way semantics seems measuring via high bar would hard shelve know whether contained shelf reference something mutated reference something reference something mutated done programming language