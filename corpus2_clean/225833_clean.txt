ip network want automatically find free ip address provision new server due frequent server addition used ip might quite fragmented whole address space effectively check ip free ping ask dns system considered expensive want minimise lookup store information used free address relational database give good candidate lookup question simple efficient way sql handle one first idea generate possible address store database used one get use column set make sql query return like first num address use look fairly simple get new address approach could become problem big network also generate remove unused address every network change store used address see make query return free address retrieve whole list implement logic client hoping could load database server better alternative scan free address regularly store one sort list used address maybe tree like structure non leaf hold information free address child segment solution seem rather complicated would prefer simple algorithm without extra running scanner generator worst case fall back anything sql provide like give smallest free element sorted list integer cheer