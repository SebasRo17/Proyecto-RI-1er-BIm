structure describes tree node ordered depth information knowing order depth tree reconstructed entirely sure describe hoping small example illustrate node num depth num parent none node num depth num parent num node num depth num parent num node num depth num parent num node num depth num parent num node num depth num parent num added parent information clarification part structure trying write algorithm j help iterate node build tree fairly recursion way go beyond sure start suggestion edit way see four case num node depth num initial case num node depth previous num node greater depth previous previous depth num num node less depth previous pseudo j far process node num process node cur node prev node num cur depth num cur parent case num else cur depth prev depth cur parent prev parent case num else cur depth prev depth cur parent prev case num else case num stuck node length process node num