time time need generate symmetric matrix relatively expensive cost element evaluation frequently gram matrix element l dot product two way efficient implementation come mind memoization direct procedural generation clearall el elmem el j integrate chebyshevt x chebyshevt j x x elmem j elmem j el j n clearsystemcache table el j n j n timing clearsystemcache table elmem j n j n timing clearsystemcache constantarray n n j j el j n j timing null null null true redundant version comparison using memoization procedural style one really like beat built function result quite good wonder elegant way generating symmetric matrix summary updated thanks participant contribution time benchmark compilation proposed method minor modification array n f array f n n arraymem n f block mem mem j mem j j f j array mem n n proc n f block re re constantarray n n re j re j f j n j re acl size fn module rtmp rtmp table fn j size j mapthread join rtmp rest flatten rtmp rm n f sparsearray j f j j j f j n rm n f table j j f j n j flatten sparsearray mrwizard n f join rest flatten table f j n j mrwizard n f max f min array n n mrwizard n f block f f f lowertriangularize transpose lowertriangularize constantarray range f reverse length f f f n whuber n integer f n module data index data flatten table f j n j n binomial n index table ab j binomial n min j n j n part data index jm n integer f ori integer module tri table f j ori n ori j ori fold arrayflatten transpose last first tri rest tri generator array arraymem proc acl rm rm mrwizard mrwizard mrwizard whuber jm first three procedure mine named author let start cheap f relatively large dimension fun co n range data table clearsystemcache timing gen n fun first n n gen generator logarithmic diagram test plotlegends listlogplot data transpose plotrange joined true plotmarkers automatic medium datarange min n max n plotlegend generator legendposition legendsize imagesize tick n automatic frame true framelabel n time enter image description let make f numeric fun co n result quite surprising enter image description may guess missed quantity machine zero last experiment old include fresh mrwizard rm code normal take expensive f tolerant n fun integrate chebyshevt x chebyshevt x x n range result enter image description see method recompute element twice behave identically