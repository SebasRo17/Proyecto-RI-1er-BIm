app need synchronize entity simply download latest version entity server client entity bunch text property bunch resource link referenced id url whatever example let entity three property id integer photo photo id entity represented two class one persistent store using coredata storage io may consider orm familiar io sdk one json parsing serialization called entity respectively entity id integer photo path file local file system track pending file downloads entity id integer photo photo id going use following algorithm num call server api obtain instance num retrieved num find create corresponding instance entity updated num immediately update property entity instance num associate instance current entity instance entity instance associated considered downloading used application start num find entity instance non num id num download photo num add local file reference photo photo num remove current item num property num notify model entity finished syncronization biggest flaw current approach keep two parallel hierarchy class one persistent store one json parsing serialization tried use inheritance declared level like photo id property superclass local level like file reference subclass like approach either become overloaded responsibility track network level local level information pattern approach handle kind situation would grateful thought thanks