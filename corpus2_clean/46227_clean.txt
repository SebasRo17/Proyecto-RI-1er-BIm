trying use compile improve performance algorithm algorithm work set matrix similar shape unfortunately use compile function list passed must similar shape circumvent inconvenience propose flatten set matrix passing resultant flat vector compiled function reconstructing vector set matrix applying algorithm sound simple actually implementing mathematica proving difficult help appreciated general gist want follows generate set irregular shaped matricies mset table randomreal j table randomreal j table randomreal j create mapping describes structure set matrix mstruct functiontogeneratevectorthatdescribesthestructure mset mycompiledfunc us mstruct reassemble flattened mset thing mycompiledfunc compile setofmats real matstructure integer reconstruct setofmats reconstructedsetofmats somereconstructionfunction setofmats matstructure stuff reconstructed matricies use compiled function flatten set matricies pas structure compiled function mycompiledfunc flatten mset mstruct