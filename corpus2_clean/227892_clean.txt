want build template engine itt another template engine based razor quite long time getting anywhere quite frankly limit tried rolling tried generating using antlr reckon need someone tell bite bullet hard way honest trying simple possible denotes start special statement statement could identifier identifier call parens must balanced handle string start one logic construct single statement yield multi block statement part killing everything within treated unless escaped treated text html tag found everything point treated text issue token context could either lt start html tag help either tag could also attribute attribute could also special statement also need balance bracket quote well also added complexity lack terminating sentinel unlike say php tag seems impossible parse alternating raw raw token end result simply combining piece token let handle syntax double reimplement grammar parse everything something keen anyway let know easier way approach would attempt exercise regard