toiling away dataframe package trying get set work seems either done ie via upvalues ill advised decided bite bullet roll custom dfset function figure get evaluation work like set part something dfset function dfset part dataframe dfmetadata metastore dfdata store name string data list length data metastore length abort memberq metastore name name metastore name append metastore name name store name developer topackedarray data idea would called like dfset frame problem run part bit try evaluate set attribute holdfirst dfset frame evaluate ownvalue test case code code needed working test case part problem helper function stringvectorq x matchq x string topmatrixq x length union length x constructor dataframe name stringvectorq data topmatrixq module store metastore length length first data length name abort store unique dfstore metastore unique dfmetastore metastore length length first transpose data metastore name name thread set store name developer topackedarray transpose data dataframe dfmetadata metastore dfdata store pretty formatting format dataframe dfmetadata metastore dfdata dataframe length metastore name upvalue part dataframe part dataframe dfmetadata metastore dfdata store name string memberq metastore name name abort store name actual problem dfset function dfset part dataframe dfmetadata metastore dfdata store name string data list length data metastore length abort memberq metastore name name metastore name append metastore name name store name developer topackedarray data test case arrange frame dataframe b act dfset frame c dfset frame b assert frame c frame b output successful test dataframe true true