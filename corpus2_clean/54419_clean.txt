two month ago written function irobot caculate xx yy zz xy xz yz shown irobot istyle string variblerange list module irobotresult irobotresult istyle xx integrate z z variblerange variblerange variblerange variblerange x variblerange variblerange istyle yy integrate x z z variblerange variblerange variblerange variblerange x variblerange variblerange istyle zz integrate x z variblerange variblerange variblerange variblerange x variblerange variblerange istyle xy integrate x z variblerange variblerange variblerange variblerange x variblerange variblerange istyle xz integrate x z z variblerange variblerange variblerange variblerange x variblerange variblerange istyle yz integrate z z variblerange variblerange variblerange variblerange x variblerange variblerange use correctly irobot xx h r r l sqrt r sqrt r h r h l pi r r l pi r however would like simplify code similarity trail flatten thread list z x apply part variblerange table j j z variblerange variblerange variblerange variblerange x variblerange variblerange trial irobot istyle string variblerange list module irobotresult intlist intlist flatten thread list z x apply part variblerange table j j irobotresult istyle xx integrate z intlist istyle yy integrate x z intlist istyle zz integrate x intlist istyle xy integrate x intlist istyle xz integrate x z intlist istyle yz integrate z intlist unfortunately failed trail irobot istyle string variblerange list module irobotresult intlist intlist z x range flatten thread list z x apply part range table j j irobotresult istyle xx integrate z intlist z x variblerange istyle yy integrate x z intlist z x variblerange istyle zz integrate x intlist z x variblerange istyle xy integrate x intlist z x variblerange istyle xz integrate x z intlist z x variblerange istyle yz integrate z intlist z x variblerange also end failure want flatten istyle integrate intlist z x variblerange xx z yy x z zz x xy x xz x z yz z enter image description achieve istyle xx integrate z intlist z x variblerange istyle yy integrate x z intlist z x variblerange istyle zz integrate x intlist z x variblerange istyle xy integrate x intlist z x variblerange istyle xz integrate x z intlist z x variblerange istyle yz integrate z intlist z x variblerange question revise