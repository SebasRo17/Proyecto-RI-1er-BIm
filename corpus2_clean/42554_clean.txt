related question maybe question wanted function take n parameter vector function output jacobian matrix function also n parameter think work j f module x unique v v thread subscript x range length outer f v v thread v j function x x x co x sin x x x co x sin x x thread x wondering cleaner way use rule posting question even though basically solved took problem involving manipulating pure function