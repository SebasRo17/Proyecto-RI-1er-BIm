file database table following column id pk filename document database table following column id pk description fileid fk user want save document client side javascript two quick ajax call attempt restful save resource individually num uploads file selected create file record database client receive id response num save document given fileid etc create update document record database service set allows user download file provided specify id however security logic service check whether user permission download file checking whether least one database entity associated user access example document would one entity user access particular document determined business rule let say multiple user access document download file seems fine surface problem num step save process document client side javascript hacker could easily modify step num arbitrary fileid sent server would associate file document meaning afterwards user permission download way solve problem