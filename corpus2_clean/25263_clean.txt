efficiently parallelize parallel version much slower sequential version sure setsharedvariable allow simultaneous read different kernel appears even though documentation say use criticalsection make separate read writes atomic thread safe dispatch dispatch table randomreal map select dispatch randominteger sec parallelmap select dispatch randominteger sec setsharedvariable dispatch parallelmap select dispatch randominteger distributedcontexts none longer minute