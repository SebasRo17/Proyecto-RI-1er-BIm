writing c wrapper c library c skill bit rusty wondering preferable allowing user construct object give object via getters would idiomatic c equivalent c result process foo library handle foo constructor like result re new result library handle foo getter like basically wrap result re library get result foo answer change creation result could fail getter could constructor version failure afaik people like exception extra init valid seem elegant otoh result stick raii tiny inline method might good candidate stack allocation