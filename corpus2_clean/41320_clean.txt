trying solve series nonlinear differential equation complex condition described block diagram left figure describes general concept right figure describes equation used state want able plot displacement x possible would great make every equation inside ndsolve function since later want determine connection amplitude displacement x th period edit trial code event method k f fk epsilon sol first ndsolve x sin pi x k x x x x x go x k x x fk sign x go x go x whenevent go ab k x f go whenevent go x epsilon go x x x discretevariables go maxsteps infinity solvedelayed true plot x x sol evaluate frame true return error code actually bit predictable tried work around algorithm using equation go x k x x fk sign x go x idea change equation x x k x x fk sign x edit got another code inspired mathematica stick slip tutorial assumed x make simpler clear fk x sin pi fk fk sign x f e sol ndsolve x stuck x fk x x whenevent ab x e stuck boole ab x f whenevent x f stuck stuck x discretevariables stuck solvedelayed true plot x x sol evaluate frame true return error