writing c code want call librarylink independently mathematica thus must compatible librarylink depend calling mathematica want make abortable librarylink function take argument wolframlibrarydata libdata really pointer abortq called question safe cache value libdata global variable never change wolframlibrary initialize use global variable calling librarylink function make question clearer layout code wolframlibrarydata libdata global variable extern c dllexport int wolframlibrary initialize wolframlibrarydata ilibdata libdata ilibdata return library error class myclass public void simulate long loop ifdef wolframlibraryversion use global libdata libdata abortq abort computation endif cross posted wolfram community