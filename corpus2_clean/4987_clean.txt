trying create function called tensorbasis take input list thought list name basis vector vector space integer output lexicographically ordered basis fold tensor product vector space instance output tensorbasis v v v circletimes v v circletimes v v circletimes v v circletimes v written following code tensorbasis label module dim length label basis j k indexlist tmp basis constantarray dim tmp constantarray j j dim j indexlist store index jth element basis fold tensor product indexlist inverselex dim j tmp hold list individual factor make jth element basis k k k tmp k label indexlist k jth element basis created tensoring together element tmp basis j infix tmp circletimes return basis function inverselex give appropriate list index basis element trying construct sure function working properly output weird problem output circletimes e tensor product symbol replaced junk plain text form subscript v subscript v subscript v subscript v subscript v subscript v subscript v subscript v use infix notation circletimes otherwise work fine work inside function