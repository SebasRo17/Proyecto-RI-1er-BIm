something often struggle testing yet never find canonical reasonable answer simple scenario f take file process return processed file f unit test check performs expected command interface application cli take file path us f process corresponding file test cli passing path ensuring handle path whether file exists logical passing file f checking exactly unit test f redundant twice much work maintaining test change twice much work note f anywhere library someone else written example part whole program trying understand best practice redundantly testing functionality small example