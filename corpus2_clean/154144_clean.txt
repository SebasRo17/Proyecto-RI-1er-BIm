project assembly combine logic ioc container project internals communication layer current version evolved internal class addin assembly problem approach entry point available ioc container possible use anything else reflection initialize assembly everything behind ioc interface defined implementation detail therefore intended usage outside well known test implementation detail private internal method tested public interface also well known test use ioc container setup suts would result much dependency using internalsvisibleto attribute make internals visible test assembly test called implementation detail recognized one problem could different concern assembly changing would make discussion useless class defined public ignoring concern need test enough reason make public usage internalsvisibleto seems unintended little bit hacky approach test publicly available ioc container costly would result integration style test pro using internals usage well known implemented like public would documentation completeness versioning solution test internals keep advantage public class redefine implementation detail