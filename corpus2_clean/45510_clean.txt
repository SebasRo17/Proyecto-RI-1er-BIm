getting formal unit testing come across issue testing separate internal part function created base manipulation e moving file file etc movefile multiple level validation pinpoint movefile fails e source file readable destination writeable seem figure force couple particular validation fail tripping previous validation example want copying file fail time gotten actual copying checked everything go wrong copying bad fifth change permission set change file permission chmod mod result chmod destination directory directory separator new filename chmod mod result source directory directory separator source filename home k file chmod failed file permission update failed movefile destination directory directory separator new filename chmod alert success internal server simulate copy failing stop gap measure perform validation filename copied absolute path matched testing file force failure know bad put testing actual used production server sure else note php num symfony using lime test edit testing ensuring success returned