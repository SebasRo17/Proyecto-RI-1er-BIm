get mathematica work quaternion symbolically want quaternion math without defining actual coefficient extract coefficient resulting quaternion reason however fromquaternion seems work value rather symbol coefficient following simple example illustrate problem run following quaternionq quaternion fromquaternion quaternion output expected true j k however run following undefined quaternionq quaternion fromquaternion quaternion get false fromquaternion quaternion expecting true j k however mathematica seems perfectly happy perform function like quaternion quaternion b b b b following result quaternion b b b b b b b b b b b b b b b b seems way extract component finally function extracting one component instance say q quaternion b c would like function like q return b j q return c etc