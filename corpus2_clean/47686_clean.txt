got term partial result qquad displaystyle frac cdot n frac frac n mathematica refuse full simplify even assuming n positive integer inspecting plot verifying fullsimplify mod n k k get qquad displaystyle begin case n mathbin mathrm mod text else end case way tell full simplify prefer case distinction simple case complicated closed form extract piecewise definition another function preferably without knowing case condition priori course n n