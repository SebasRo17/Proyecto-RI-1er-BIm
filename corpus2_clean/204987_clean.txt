short version tree non binary many level child node multiple leaf best way tally leaf meet certain condition given node long convoluted version say folder contain folder production system num layer folder deepest folder may document user navigates folder need know many document folder total also need know many document flagged document flagged certain time period updated determined based history entry take last history entry folder bigger x flagged right iterating folder subfolders etc child check history entry tally recursively getting pretty slow need new approach come two option want know better approach one best option num whenever adding document removing document iterate parent graph increment decrement property stored folder entity mean adding removing take minimal performance hit problem actually need count total number document well total number document flagged checking history entry mean need another field another process call status change introduces even complexity checking whether something flagged call property option num timer job update property folder system would lot cpu cycle seems wasteful option num thought maybe iterating every document seeing document direct distant child target node evaluating would better iterating via recursion feel like would better node high tree iterating every child low level node would ridiculous hmmm tempted implement option num option