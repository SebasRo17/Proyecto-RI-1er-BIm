large directed graph containing small loop would like extract path end node vertexoutcomponent given path length n written function work would like know anybody know elegant sufficient way perform task please see minimum working example function using case vertex end node graph g graph directededge directededge directededge directededge directededge directededge graphlayout springembedding imagepadding vertexlabels name vertexlabelstyle directive rgbcolor bold route g sp n block ep bag ep case vertexoutdegree g vertexlist g bag sp n bag flatten thread append thread list bag vertexoutcomponent g last bag bag deletecases bag memberq ep last sameq take case bag memberq ep last get route g route step long end vertex build function code use get output efficiently real world data graph containing approx vertex loop vertex end node try seedrandom g randomgraph directededges true route g give list route second pc thanks