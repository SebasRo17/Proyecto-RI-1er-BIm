background asking question example chain chain arbitrary number range together make one without making copy link case understand decided would implement chain c using variadic template far tell way make iterator chain successfully go next container iterator know end container thought sort hack called end know go next container first way seemed easier safer versatile question anything inherently wrong iterator knowing end c language agnostic since many language iterators ifndef chain hpp define chain hpp include iterator range hpp namespace iter template typename container struct chain iter template typename container struct chain iter container private using iterator decltype container nullptr begin iterator begin const iterator end never really used kept consistency public chain iter container container bool end begin container begin end container end end begin container end chain iter operator begin auto operator decltype begin begin bool operator const chain iter rh const begin rh begin template typename container typename container struct chain iter container container private using iterator decltype container nullptr begin iterator begin const iterator end bool end reached chain iter container next iter public chain iter container container container rest bool end begin container begin end container end next iter rest end end begin container end chain iter operator begin end next iter else begin auto operator decltype begin begin end next iter else begin bool operator const chain iter rh const begin end next iter rh next iter else begin rh begin template typename container iterator range chain iter container chain container container auto begin chain iter container container auto end chain iter container container iterator range chain iter container begin end endif chain hpp