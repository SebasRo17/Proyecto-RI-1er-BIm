php num bunch passing around object assumption maintain identity change made state inside object method continue hold afterwards assuming correctly give basic structure builder protected foo id set construct protected foo collection protected bar id set construct protected bar collection protected foo collection new foocollection foreach food id id foo collection addfoo new foo id protected idea protected foocollection foos bar argument passed using foo collection bar collection foreach foos foo obj foo collection implement bar id foo obj empty bar id bar collection new sub collection component foo foreach bar id bar id bar collection addbar new bar bar id foo obj bar collection foo obj collection bar object also collection object worried foreach supposedly work copy array want foo bar object maintain identity matter collection become part make sense edit understanding using clone keyword way really copy php num using assignment operator basically creates another reference hoping value foreach also work way