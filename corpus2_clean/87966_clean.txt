lock dosomething unlock call safely multiple thread never executed parallel parallel execution evade problem never know getting lock source maybe lucky case decode know locking happening suck even worse normally source case lock exist base library obvious kind hidden lock become bottleneck parallel execution even part designed parallel also num lock execution cannot parallel num know whether lock used num defensively saying make parallel anything fact drive crazy solve problem