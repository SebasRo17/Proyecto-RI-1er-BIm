seems instanceof come land functional programming watered version pattern matching oo dynamic dispatching oo language think ruby situation instanceof solution think especially ruby patch method like