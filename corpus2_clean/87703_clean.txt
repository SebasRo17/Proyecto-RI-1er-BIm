read question one book number randomly generated stored expanding would keep track median two structure solve problem one balanced binary tree two heap keep trace biggest half smallest half element think two solution running time n lg n sure judgement opinion best way keep track median continue question think heap best way keep track median two heap big heap small heap need sequential first calculate mean element element less mean put num small heap contrary put num big heap number big heap equal number small heap biggest one small heap smallest one big heap median two heap different size pop root element heap bigger size push root smaller size heap big heap root element smallest one small heap root element biggest one way two heap size digital difference find medium root think solution running time n mean time adjust heap best way keep trace median