ruby upto group x x give would like use patten replace hash table mathematica example know use gatherby contains value tried solve feel efficient large list fun mod thread fun gatherby range fun