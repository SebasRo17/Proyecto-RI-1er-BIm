trying design architecture system implementing c wondering people could think good approach critique approach designed far first general problem image processing pipeline contains several stage goal design highly modular solution stage easily swapped replaced piece custom user speed increase know certain stage constrained certain way problem current thinking something like struct contains value pipeline routine public virtual foo stage1 virtual bar stage2 virtual qux stage3 pipeline routine stage would allow people subclass routine override whichever stage wanted said worked system like find subclassing default stuff tends get messy difficult use giddy writing one also thinking approach different stage num num would defaulted template parameter anyone offer critique pattern thought template approach architecture come mind