presume way could extended custom algorithm convenient apply let say factory pattern avoid whole thing something like getinstance guessing bigger picture see