bit confused use typedef c feel balancing act readability clarity sample without typedefs sum std vector const iterator first std vector const iterator last static std map std tuple std vector const iterator std vector const iterator lookup table std map std tuple std vector const iterator std vector const iterator iterator lookup lookup table find lookup key lookup lookup table end lookup second pretty ugly imo add typedefs within make look nicer sum std vector const iterator first std vector const iterator last typedef std tuple std vector const iterator std vector const iterator lookup key typedef std map lookup key lookup table static lookup table lookup table lookup table iterator lookup lookup table find lookup key lookup lookup table end lookup second still bit clumsy get rid nightmare material still vector iterators variant get rid typedef std vector const iterator iterator sum iterator first iterator last typedef std tuple iterator iterator lookup key typedef std map lookup key lookup table static lookup table lookup table lookup table iterator lookup lookup table find lookup key lookup lookup table end lookup second look clean still readable use typedef soon nightmare soon occurs put use signature keep implementation