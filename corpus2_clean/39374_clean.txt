consider following simple example sol ndsolve x x x whenevent ab x x x x x plot x sol mathematica graphic clearly whenevent missing x occurrence may happens interpretation event detection routine check occurrence first part clause component instead checking event trigger ab x event fired rest clause get tested testing interpretation reverse clause sol ndsolve x x x whenevent x ab x x x x plot x sol mathematica graphic work expected course proof strange thing reverting first version encapsulating clause function also work expected clause p ab p p sol ndsolve x x x whenevent clause x x x x plot x sol mathematica graphic moral always put whenevent clause function