writing test nodejs module question apply language platform got following situation modulea j export foo var1 var2 something var1 var2 baz var1 var2 export bar var1 var2 something completely different var1 var2 baz var1 var2 baz var1 var2 something var1 var2 yet foo bar need moduleb dosomething var1 var2 foo bar public method modulea got specific functionality different thing var1 var2 also shared functionality keep thing dry moved private baz call public moduleb stubbed moduleb know exactly going foo bar called writing test foo bar specific functionality num sure approach testing shared functionality baz seems got three option write identical test foo bar test thing baz write single test foo write test bar since know baz work expose baz another public module test separately leaning towards first option feel might missing something