say want enforce table represents tree found create table tree id integer primary key parent integer reference tree id item text constraint tree parent check id integer parent parent id num length id num num node tree identified path root node foreign key parent path one element dropped end combination foreign key check guarantee tree structure first question good idea better approach oracle least able define parent virtual column elegant second question approach like think functional foreign key tree id reference tree id via drop last element path think concept general use tree example