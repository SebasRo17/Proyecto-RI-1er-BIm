first try stackoverflow picking answer improve monad stackoverflow monad goal write example monad trying solve general case come one see work right really like pattern already used rework working hope right pretty strict signature taking shortcut oo allows contrived example provide semantics represent friend relationship two user friendship blocked processing stop sample lift boolean custom friend monadic space think sign right track included sample lifting monadic space question get monad implementation right please call place jumped rail public public boolean rejected public error public original public interface b apply b b public unit new original public b bind b b b f error isempty error skip rest rejected mean next f apply b next suppresswarnings unchecked public b pipeline b b function space b f function space space bind f space tostring omitted save space example arbitrary people arbitrary representing friendship state public people public people public public suppresswarnings unchecked public static proto new people new people bob fred proto unit pipeline verify invite accept system err println people new people bob proto unit pipeline verify invite accept system err println people new people fred proto unit pipeline verify invite block system err println people new people bob tom proto unit pipeline verify invite accept system err println public interface extends people static verify new public apply people known user bob fred known user contains error unknown known user contains error unknown static invite new public apply people blocked bob equal bob equal error blocked bob static accept new public apply people good go original yes static block new public apply people original block rejected