job process executing lot io read write temporary file want need reduce quantity io execution want create sort circular buffer going filled text file within first thread consumer reading thread fetch buffer problem could multiple consumer need read one buffer buffer implementation prefer use existing wrapper simple play index enough also want create separate buffer every reader ofcourse want avoid deadlock unnecessary update right using circular buffer num index question implement buffer accessed multiple consumer consumer read consumer one costumer may read faster one important update first thread know know consumer write buffer end raise flag