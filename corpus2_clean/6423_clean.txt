one implement efficiently elegantly memory savvily following function return matrix euclidian distance point within cube width size accounting periodicity cube clear periodicdistance periodicdistance x size module xm ym zm xm outer euclideandistance x x size outer euclideandistance x x xm map min ab transpose xm ym outer euclideandistance x x size outer euclideandistance x x ym map min ab transpose ym zm outer euclideandistance x x size outer euclideandistance x x zm map min ab transpose zm sqrt xm ym zm side question possible carry computation within mathematica using e g octree could scaled million point thanks help