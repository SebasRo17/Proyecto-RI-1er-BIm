learning node using child process move another script executed seem copy hold environment could something wrong copy hold environment require module use spawn clear understanding spawn exec although like bottom exec right would love clarity matter please anyone thank parent j use strict var f path err f require f path require path err require err j var url url process argv num var dirname locate r dirname path dirname url locate r dirname test json path join dirname test json var flag str flag r str f open locate r flag fd err f close fd process stderr write n finally block file closed n var new buffer num num length num f read fd rd err fd str tostring utf8 process env str str process stdout write str str n n f close fd process stdout write read closed file n write str test process exec var env exec env process env exec require child process exec env env process env f f process env path path process env dirname dirname process env flag flag process env str str process env err err process env fd fd exec node child j env stdout stderr throw new child j use strict var f path err f require f path require path err require err j var fd f flag path dirname str err fd process env fd f process env f path process env path dirname process env dirname flag process env flag str process env str err process env err var url url process argv num var locate r dirname path dirname url locate r dirname test json path join dirname test json write str var locate locate dirname test json path join dirname test json flag f open locate flag fd err f fd var new buffer str process stdout write n str str n num length f write fd num written err f close fd process stderr write n finally block file closed n f close fd process stdout write written closed file n err j use strict var f f require f module export err err scp cd try throw new err catch e process stderr write e n finally cd