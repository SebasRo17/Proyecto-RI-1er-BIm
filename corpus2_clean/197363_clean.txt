came across article rule three wikipedia rule three refactoring rule thumb decide replicated piece replaced new procedure state copied used three time extracted new procedure rule introduced martin fowler refactoring attributed robert know rule thumb recommended refactor second duplication downside refactoring write first duplication