need algorithm picking user user identified letter b c ranked number num num num rank degree likelihood picked rank num user twice likely picked rank num user rank num four time likely etc let say four user b c rank num num num num respectively user table might store rank user rank num b num c num num pick user based rank first idea algorithm add rank num num num num obtain sum num assign subranges num num user subrange size user rank range num num b range num num c range num num num possibility due rank num range num num table becomes user rank range num num num b num num num c num num num num num num calculate random num num find user whose range contains random num user c picked num fall within range num num achieves fairness based rank repeat picking randomly way average user chosen fairly user starved however feel sloppy add remove user recalculate range removing user c recalculate range user user rank range num num num b num num num num num num changing user rank num recalculate range b user rank range num num num b num num num num num num best algorithm pick user surely recalculating range every user add delete update suboptimal well known algorithm help update rwong got thinking grouping people rank picking rank instead picking user one person rank turn random shaped range linearly growing range one dot one chance picked rank num rank num rank num rank num rank num work great exactly one person per rank fall apart lot people rank num chance increase number people within rank possibly chance higher rank back irregular shape must pick friend pointed rejection sampling seems great solution pick random x coordinate see fall within shape picked rank pick random person within rank show solution shape multiple people inside rank rank num num people num x num num chance user count rank chance graph chance number num num num num num num num num num num num num num num num algorithm pick random row like picking x coordinate pick random num max chance like picking coordinate see less equal number chance rank repeat valid rank chance take care distribution probability chosen valid rank point simply pick random person within rank done beauty add remove someone increment decrement user count column assign new change number two small simple update memory complexity time complexity add remove update user also complexity pick user nothing like num grouped user rank captured user count rank calculate chance rank used simple looping algorithm pick random row chance value get hit finally pick random person rank