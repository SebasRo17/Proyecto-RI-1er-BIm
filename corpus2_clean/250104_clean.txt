developing medium server basic functionality serve image done following way medium id id id image may want ask specific size rule provide eg medium id medium id num height num question option think better believe second one restful beautiful using cdn varnish cache get medium id width num height num medium id height num width num num hit num advice