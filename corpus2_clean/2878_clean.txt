attempting compile function used calculate elastic collision two dimension two first coordinate list position last velocity colliding particle take argument like list cf compile list real list list map flatten sqrt sqrt sqrt sqrt sqrt sqrt sqrt sqrt end flatten list list list list end map end true branch map flatten list end end compile however throw error compile cplist compile getelement system private compilesymbol system private compilesymbol compile tensor type integer real complex evaluation use uncompiled function