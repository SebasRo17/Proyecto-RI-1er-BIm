right crazy idea able implement get working properly entirely sure use case would yet create new lua script file project directory take argument file table containing argument script take created table containing instance variable create default plan extend create new function based input sent creation well make cool new file generated loaded dynamically fly theoretically could get generate load script imaginable one use case think ai creates script map function creates new script new situation environment point theoretical though test creating new script immediately loading calling function card local scriptname local scripter new scriptname test one num scripter local require scriptname local new get test get one num set one num get one num get set get end lua local local local local newline n must must table nil new local instance index self instance instance instance instance instance end self self self self self end first script instance table insert self local self newline table insert self newline end every script made way need new create instance new declaration table insert self self new self table insert self newline first inside new table insert self local instance index self newline add designated argument inside new self create instance variable loaded value key pair self table insert self instance key newline end close new table insert self instance newline table insert self end newline table insert self newline end argument new add key self table insert self table insert self end next self nil make sure table empty first table remove self remove last element extra end end add designated argument new key self table insert self instance newline end end instance variable need separate name key argument key self self self table insert self newline end key pair self self key self key table insert self newline end end argument passed table insert self self set newvalue newline table insert self self newvalue newline table insert self end newline end table insert self self get newline table insert self self newline table insert self end newline end instance value passed key table insert self self set key newvalue newline table insert self self key newvalue newline table insert self end newline end key table insert self self get key newline table insert self self key newline table insert self end newline end last script instance table insert self self end local filename self lua file io open filename w key self file write end file close end provided generate local new local instance index self instance instance test instance one num instance end set newvalue self newvalue end get self end set newvalue self newvalue end get self end set one newvalue self one newvalue end get one self one end generated call local scripter new scriptname test one num scripter sure correct could useful certain situation looking feedback readability following lua best practice would also love hear whether approach valid one whether way done thing extensible