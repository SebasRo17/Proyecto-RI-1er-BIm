cool wolfram blog article incomplete code apply droste effect image various interesting way copying code journal provide working solution missing get code work initializesources source p p quiet block imgbytes import source byte sourcebytestream imgbytes failed failed sourcebytestream fromcharactercode imgbytes launchkernels distributedefinitions originalvaluefns drostifyregion replicateregion transformcoordinates cropdata parallelevaluate imageinterpolationfn originalvaluefns cropdata reverse developer topackedarray n importstring jpg data p p sourcebytestream originalvaluefns data aspectratio apply divide dimension data apply function x ab x ab aspectratio table listinterpolation data channel aspectratio interpolationorder x channel drostifyregion start end re opts optionspattern image table apply imageinterpolationfn transformcoordinates x opts x end start re aspectratio aspectratio re drosteimage resolution opts optionspattern imageassemble paralleltable drostifyregion slice slice resolution opts slice max length kernel find center selected rectangle drostescale max flatten ab r center center ab r center ab reverse take dimension data center cropdata data r r block center xlo xhi ylo yhi innerdims center mean r r find scaling cropped image rectangle innerdims ab r r drostescale ylo xlo yhi xhi round center innerdims center innerdims return data xlo xhi ylo yhi transformcoordinates x opts optionspattern fixedpoint replicateregion im optionvalue zoom e optionvalue rotation optionvalue xshift optionvalue yshift x optionvalue copiesperrotation optionvalue spiral log drostescale doubledpi optionvalue maxrecursion option transformcoordinates zoom xshift yshift rotation copiesperrotation maxrecursion spiral replicateregion x outside image area move closer ab x ab aspectratio x drostescale inside frame move main image ab x drostescale ab drostescale aspectratio x drostescale otherwise use calculated coordinate true x