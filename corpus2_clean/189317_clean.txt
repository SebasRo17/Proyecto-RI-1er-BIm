process designing architecture plugin based application question handle database access logging goal application allow device company manufacturing send message number third party protocol number third party device nature application need log every message sent via system reasonable detail thinking database side global message table store implementation agnostic table set table messaging plugin defined plugin writer reference global message table via foreign key handling table hard time figuring design safely one hand particularly want give plugins full access database want fewest possible privilege hand want plugin developer full reign log need table define similarly plugins work wordpress additionally want logging database optional good logging crucial application thing considered designing logging infrastructure allows plugin define maybe xml file table need db mapping table object using mapping table definition write db result call making naming convention stored procedure db plugin must define defining table automatically calling stored procedure sending message allowing plugin implement logging return holding proper sql query solution make little uncomfortable sure approach might exist suggestion implementation detail writing application using hand rolled plugin solution pretty decent amount flexibility since none actual written proof concept really reference make fairly major change plan without great cost