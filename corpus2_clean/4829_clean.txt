interested efficient code generate n gaussian random field sometimes called process field research application cosmology wrote following code fftindgen n flatten range n reverse range n clear gaussianrandomfield gaussianrandomfield usage gaussianrandomfield size dim pk return gaussian random field size size default dimension dim default powerspectrum pk gaussianrandomfield size dim pk function k k module noise amplitude pk pk pk pk dim pk kx kx sqrt ab pk kx define sqrt powerspectra noise fourier randomvariate normaldistribution size generate white noise amplitude map pk fftindgen size amplitude frequels inversefourier noise amplitude convolve inverse fft dim pk kx ky kx ky sqrt pk sqrt kx ky noise fourier randomvariate normaldistribution size size amplitude map pk outer list fftindgen size fftindgen size inversefourier noise amplitude dim supported couple example use one gaussianrandomfield listlineplot gaussianrandomfield gaussianfilter matrixplot performance optimal interpreted software gaussian random field generated time faster idea speed thing improve code curious interested efficient way proceed sphere