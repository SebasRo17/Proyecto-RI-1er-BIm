two class similar behavior third party library need populated sent specific queue order logging please note common parent scratching head find way refactor num apple num orange unfortunately apple orange child class fruit change extend base constructor apple orange different signature current apple apple new apple apple setcolor color red apple num apple setcount num new apple producer factory create apple producer send else orange orange new orange orange setcolor color orange orange num orange setcount num new orange producer factory create orange producer send move mq common handle apple orange situation