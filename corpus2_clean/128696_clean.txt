throwing question greater creativity suggestion search methodology might solve problem come somewhat contrived example attempt explain problem well enough solution might recommended problem using relational db mssql need search across product following constraint availability market price also need group sort price market larger entity roll let see explain using semi real world entity think application allows user search hotel room book following criterion might available search day room would booked market want hotel room e g nyc boston hotel room might hot number bed suite case search criterion may may selected broad search possible date care market varying level specificity nyc num bed add complexity also need price hotel room selected criterion obviously special pricing different price different day stay one price thursday night different price friday saturday night weekend stay thing played around solr sql querying implementing c optimizing necessary think decorator pattern looking suggestion community suited problem might well suited problem technology might work better thought technique others used similar problem worked well non technology specific