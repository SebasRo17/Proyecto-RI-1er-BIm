trying test wrapper request made lib var app require app request require request export search searchterm next var option url q query searchterm adult format json top num auth user app get bing identifier pas app get bing identifier request option err re body err next err todo parse json result app instance express question test module without touch internet language would mocked request module know best way node j node path lib describe http client transport failed var c require result foo request mock result called c search foo err result result re todo json parsing failed todo result todo