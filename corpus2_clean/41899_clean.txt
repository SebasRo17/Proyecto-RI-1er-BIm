simple jlink function follows need jlink sha signature byteslist javablock module sig mdc mdo installjava mdc loadjavaclass java security messagedigest mdo mdc getinstance sha mdo update byteslist sig mdo digest releasejavaobject mdo return sig sha signature bytelist produce following output jlink javaclass java security messagedigest jlink jvm vm java security messagedigest false true getinstance sha digest error indication code seem anything must missing something simple making suggested modification see need jlink installjava sha signature byteslist javablock module sig mdc mdo mdc loadjavaclass java security messagedigest mdo messagedigest getinstance sha mdo update byteslist sig mdo digest releasejavaobject mdo return sig sha signature bytelist produce java fldx attempting set field named digest defined class java security messagedigest delegate incorrect type value javaobject java security messagedigest delegate failed