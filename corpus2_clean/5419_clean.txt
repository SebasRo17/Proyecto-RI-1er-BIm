note fixed version question concern usage nexpectation expectation see behavior see following example first take data derive empiricaldistribution data dist empiricaldistribution data plot pdf cdf distribution row discreteplot pdf dist x x data joined true imagesize discreteplot cdf dist x x max data joined true imagesize look like pdf cdf plot cover background execute following get little odd expectation x conditioned x x distributed dist nexpectation x conditioned x x distributed dist n expectation x conditioned x x distributed dist nexpectation x conditioned x x distributed datadistribution empirical give come nexpectation calculate answer n expectation clearly expectation handle empiricaldistribution without problem one would think nexpectation would well seem odd hoping understanding mathematica might yield additional insight mathematica