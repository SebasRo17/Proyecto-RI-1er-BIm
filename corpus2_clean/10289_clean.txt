problem reduced one suppose unbalanced almost random tree leaf tree one property already set vertex including leaf another property update upon visiting update property need cast function f father vertex son vertex ordered way shown example build tree karytree directededges true leaf flatten position vertexdegree draw highlightgraph leaf vertexlabels name imagepadding assign property leaf leaf flatten position vertexdegree fold setproperty leavesprop randominteger leaf assign another property vertex fold setproperty toupdateprop vertexlist mathematica graphic cast function need visit node set updating property hierarchical order mathematica graphic easiest way accomplish navigation scheme edit visiting order tree level interchangeable edit trying clear desired order invocation call f within round could done order red one could done first second round mathematica graphic