start mathematica fresh kernel load program developing analyze biology data amount used system memory gb free memory gb memory value reported application external mathematica run code developed amount used system memory gb free memory gb mean running code consumed gb memory running code maxmemoryused report value gb even though mathematica reporting maxmemoryused gb system still reporting gb used memory true mathematica cleared gb memory say used returned system tried setting historylength made difference reported memory usage code posted use several paralleltable statement statement send copy memory content parallel kernel suggestion solve mystery memory thank thought todd mathematica code load cel data time absolutetime setdirectory cellocation celfilenames filename name data file import celvarnames table stringsplit celfilenames length celfilenames name datafiles extension removed used downstream table microarray celvarnames import celfilenames length celfilenames assign data microarray variable using celvarnames index microarray chip data assigned different index microarray chipsize chipdimensions microarray celvarnames determine chip dimension load affy cdf data setdirectory affycdflocation cdffilenames filename cdffile import flatten stringcases cdffilenames cdf convert hybidization symbol name string name experimentchips map tostring experimentchips controlchips map tostring controlchips print experimental condition chip experimentchips print print control condition chip controlchips pmindexes table select cdffile length cdffile perfect match probe index probeset order affy cdf file mmapmindices map transpose thread affyindextommaindices pmindexes chipsize create mathematica index equivalent affy pm index position probeset pmtemp paralleltable extract microarray celvarnames mmapmindices j length celvarnames j length mmapmindices get pm data chip data grouped chip within chip data organized order probe listed cdf file table pmsignal celvarnames pmtemp length celvarnames put pm data pmsignal variable using celvarnames index referring different chip clear pmtemp microarray need retain duplicate information memory data assigned specific chip table pmstdev celvarnames map standarddeviation pmsignal celvarnames length celvarnames compute standard deviation pm probeset chip store pmstdev using celvarnames index subsetsize length pmstdev celvarnames use probesets calculate cluster table pmstdevsubset celvarnames blockrandom seedrandom randomchoice pmstdev celvarnames floor subsetsize length celvarnames select random subset pm probset stdev establishing normal pm probeset standard deviation chip pmtemp paralleltable sort findclusters pmstdevsubset celvarnames distancefunction euclideandistance method agglomerate length celvarnames find largest cluster pm standard deviation subset chip mean cluster set normal pm variation chip find cluster make calculation quicker table pmstdevcluster celvarnames pmtemp length pmtemp assign pmtemp result pmstdevcluster using celvarnames key clear pmtemp need store data twice table pmpostocheck celvarnames flatten position pmstdev celvarnames x x mean pmstdevcluster celvarnames length celvarnames determine chip pm probeset position whose st devs greater normal threshold calculated taking mean largest cluster chip stored pmstdevcluster pmexperimentemp paralleltable flatten drop errorcorrection pmsignal experimentchips pmpostocheck length experimentchips calculate improved pmsignal experimental chip probesets unusually high signal variation using probesets comparable experimental condition chip surrogate pmcontroltemp paralleltable flatten drop errorcorrection pmsignal controlchips pmpostocheck length controlchips calculate improved pmsignal control chip probesets unusually high signal variation using probesets comparable control condition chip surrogate table pmsignal experimentchips replacepart pmsignal experimentchips thread pmpostocheck experimentchips pmexperimentemp length experimentchips replace spurious pmsignal replacement value experimental condition chip table pmsignal controlchips replacepart pmsignal controlchips thread pmpostocheck controlchips pmcontroltemp length controlchips replace spurious pmsignal replacement value control condition chip clear pmexperimentemp pmcontroltemp store data longer needed table experimentchippmmean experimentchips mean flatten pmsignal experimentchips length experimentchips calculate experimental chip pmsignal mean use standardization table controlchippmmean controlchips mean flatten pmsignal controlchips length controlchips calculate control chip pmsignal mean use standardization table experimentchippmstdev experimentchips standarddeviation flatten pmsignal experimentchips length experimentchips calculate experimental chip pmsignal standard deviation use standardization table controlchippmstdev controlchips standarddeviation flatten pmsignal controlchips length controlchips calculate control chip pmsignal standard deviation use standardization pmexpstandtemp paralleltable map experimentchippmmean experimentchips experimentchippmstdev experimentchips pmsignal experimentchips length experimentchips standardize experimental chip pmsignal pmcontrolstandtemp paralleltable map controlchippmmean controlchips controlchippmstdev controlchips pmsignal controlchips length controlchips standardize control chip pmsignal table experimentstandard experimentchips pmexpstandtemp length experimentchips reassign data pmexpstandtemp proper indexed variable table controlstandard controlchips pmcontrolstandtemp length controlchips reassign data pmcontrolstandtemp proper indexed variable clear pmexpstandtemp pmcontrolstandtemp free memory time absolutetime time