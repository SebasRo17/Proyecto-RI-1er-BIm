following example u x found numerically using ndsolve method f h l w phi x piecewise tanh l x x tanh l x l l x x x x ndsolve u x h l l phi x phi x u x f l l phi x u w l u w l u x w l w l method stiffnessswitching workingprecision interpolationorder diff x u x x u x x plot evaluate diff x x w l w l plotrange work perfectly need see mean square error obtained solution another function x sum first w l second w l sum sum diff first second first evaluate sum give expression value think u x obtained discrete point defined point calculated error also tried using integration intval nintegrate u x x u x x x w l w l give long error message ending neither list replacement rule valid dispatch table cannot used replacing evaluate integral