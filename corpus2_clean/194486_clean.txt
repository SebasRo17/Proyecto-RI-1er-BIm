suppose long stack number another intermediate stack destination stack returned end two operation allowed transferring top old stack top element intermediate stack transferring top element intermediate stack onto top new stack list possible new stack produced assuming original stack used using racket scheme purely functional solution preferable idea seems following correctly predicts whether certain sequence possible given sequence sorted small big define possible lst match lst con b x x b sorted b possible b x thus simply generate list filter impossible one seems elegant solution though preferably us recursion functional programming instead nested loop mutation