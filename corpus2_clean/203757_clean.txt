working new point sale company product different price depending product mix product base price explain problem use following info product category price num num b num num q num num r num num num num x num num num num z num num company package example package combo product b choose num q r num x z get num discount case sometimes customer add base product placing order example wan one product add product q product p create package discounted price might add want num product b num r num z case b sometimes customer add num num b num q num num x num z according rule set forth combo package num combo would apply combo item promotion dependent quantity buy num b get num dependent upon time valid num pm num 10am another promotion might depend last purchase occured purchase x timeframe problem num structure table create different package promotion way flexible add different type promotion different requirement num order like case b mix case case b structure query test see product mix e order update price description accordingly ultimately best result query would package promotion requirement fulfilled order give benefit customer e maybe ordered fulfills requirement promotion num num promotion num less expensive must work multiple promotion thanks advance help update num better describe problem hand update work done thus far solve erd product model limited entity attribute affect issue e inventory play inventory entity present enter image description also including sample entity attribute affect question simplify reading putting description place foreign key link flow chart giving example combo fast visual way understand table structure product id num num num bacon num bacon num orange juice num apple juice num coffee num coke num french fry num onion ring num soup du jour num combo num combo num bacon combo num bacon combo num combo side num combo beverage num small orange juice num large orange juice num small apple juice num large apple juice num add extra num add product component combo combo combo side combo combo beverage combo combo combo side combo combo beverage bacon combo bacon bacon combo combo side bacon combo combo beverage bacon combo bacon bacon combo combo side bacon combo combo beverage product feature id description num combo side option num combo beverage num juice num orange juice size num apple juice size num extra product feature applicability product combo combo side required combo juice flavor required combo combo side required combo juice flavor required bacon combo combo side required bacon combo juice flavor required bacon combo combo side required bacon combo juice flavor required product feature applicability product combo side combo required combo beverage combo required extra combo optional combo side combo required combo beverage combo required extra combo optional combo side bacon combo required combo beverage bacon combo required extra bacon combo optional combo side bacon combo required combo beverage bacon combo required extra bacon combo optional optional feature product combo side option french fry combo side option onion ring combo side option soup du jour combo beverage juice combo beverage coffee juice orange juice size juice apple juice size orange juice size orange apple juice orange juice size orange apple juice apple juice size small apple juice apple juice size large apple juice extra add extra extra add research support provided community know able solve problem num fact done flexibility thought could first deployment system though advance problem num solved satisfaction idea neil asked great question leading towards possible solution using relational division dba stackexchange com question num query efficient example book www amazon com book dp num helped lot however solution present understand work one record combo time customer walk say want num num num small apple juice num coke num french fry num onion ring need way detect one combo mix add product base price multiple combo combination looking ideally sql query prioritize combo combination largest saving one idea come solve problem two add attribute product component product combo e running pricing process query product order product package relating query discount given price component table ordering descending order package check see create package remaining non product query process product non product remainder