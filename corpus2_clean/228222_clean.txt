background writing small partial ide internally converted parsed graph structure fast navigation syntax check etc functionality undo redo also session restoring crash implemented writing reading journal journal record modification graph source question hoping advice decision structure journal format graph see two possible version g graph edge implemented way one node store reference node via memory address g b every node id id memory address map graph us id instead address connect node moving along edge one node another time requires lookup id address map also journal j current node like current working directory shell file system setting journal contains entry like create new node connect current connect first child current node relative id j b journal us absolute id e g delete edge num num delete node num could e g combine g j combine g b j b principle also g b j possible first original attempt g version j b us address turned cause severe restriction node cannot change address journal would keep track using journal two session mess even impossible wonder variant variant b combination would good idea advantage disadvantage would especially variant might causing trouble later