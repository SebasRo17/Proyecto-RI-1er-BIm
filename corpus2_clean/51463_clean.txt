given expr f x g z following query pattern h c appears last slot alternative case expr h c h c h c h c h c infinity give g f x ie f z matched matched pattern rotated first slot case expr h c h c h c h c h c infinity give g f z souldn alternative commutative apparentely first match per level returned method return x z containing pattern