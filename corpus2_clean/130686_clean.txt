known design pattern implementing discount model discount model mean following num customer buy product x product product z get discount num num num customer buy num unit product x get discount num num num customer brought last year 100k get flat num discount num customer purchased num unit product x get num unit product x product free num generic pattern applied handle scenario thinking model unable come across generic one