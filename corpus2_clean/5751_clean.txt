encountered error hoping mathematica magic sparing code numerical integration function approximation root finding broader context reference function come previous question k h paretodistribution hstar h u c l log c log l k k z z ltype n argmax u n l n l l l l ztype n n ltype n u utility function saez allowing income effect actual tax schedule approximate note ltype ztype make sense numerically original problem type inversefunction ztype solved setdelayed set everywhere following nested numerical integration work h distribution give defined wrong g z nsolve z z k survivalfunction h z z pdf hstar z integrate g exp integrate xi u zzz xi c zzz zzz z zz pdf h zz survivalfunction h z zz z infinity g real n g error nintegrate nlim zzz zz valid limit integration edit interestingly simply specify numeric argument inner integral computation start though finish hour tmp z numericq zz numericq nintegrate xi u zzz xi c zzz zzz z zz g z nsolve z z k survivalfunction h z z pdf hstar z nintegrate g exp tmp z zz pdf h zz survivalfunction h z zz z infinity g real give error compile first limit infinity proceed tmp compile z real zz real nintegrate xi u zzz xi c zzz zzz z zz parallelization true compilationtarget c run g get error compiledfunction cfsa argument zz position machine size real number