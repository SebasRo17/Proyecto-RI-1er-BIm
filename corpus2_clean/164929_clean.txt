singleton pattern prone thread safety problem best method work around