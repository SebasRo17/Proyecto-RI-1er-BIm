met strange problem trying optimization initialization code goal vector f real real block v v map sin norm vector clip v goal g real real max goal f goal norm f vector function g scaler function want minimize g constrains min f despite seems straightforward direct implementation problematic counter nminimize g min f goal method neldermead tolerance stepmonitor print counter execute code error message nminimize bcons shown tell u constrains valid format test found problem related command min used first constrain min f goal use min problem e evaluate norm f goal evaluated without problem seems min valid using constrains nmizimize yet use norm plus etc really inconvenient need use min part constrains wonder fix problem