working structure used source report template web app come relatively complex sql query one many row one dimensional associative array case many turned two dimensional indexed complex case lot save trip database extremely expensive scenario attempting get basic array num num dimension raw database put conditionally single five level deep organizing php seems like better idea using statement sql structure year year type type information total table index db first question bad idea array like appropriate situation would work go populating initial thought shallow deep work realize difficult abstract conditionals determine item go seems starting deeply nested may approach take abuse alternative exist edit went ahead approach learning changing thing went ended similar end learned regard shallow deep conundrum went process thinking outer array largest set cup containing multitude smaller cup turn contained another multitude smaller cup last set mind water indexed database value array cup idea fell apart started legitimately hand drawing structure found base array water filled tiny cup envisioned represented heck lot big cup lead see deeply nested array tower indexed representing base sort tip containing figured best way process gather bottom plug next layer go tower plugging layer next layer sure right feel like understand array definitely still sure best solution