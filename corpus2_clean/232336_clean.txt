busy hobby o planning making project open source eventually support multiple platform mind taken approach putting hardware specific separate hardware abstraction layer hal library kernel need know specific hardware handle thing memory interrupt kernel call hal asking memory hook interrupt calling hal memory malloc hal interrupt hook respectively question would like know universal mean describing function library expose developer want port hal another platform seeing kernel know kernel header file library need specific kernel care work long call edit kernel library written c library normal statically linked libray moment word document diagram showing different function going become mess soon advice would greatly appreciated