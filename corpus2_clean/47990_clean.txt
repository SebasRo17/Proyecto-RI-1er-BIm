want map function matrix rank n example percentchange v vectorq difference v v percentchange v map percentchange v length dimension v n range percentchange work expected lazy beginner thought could get rid duplicate definition percentchange simply state percentchange v map percentchange v length dimension v however disappointment function map accept level parameter map difference hand function case percent v map difference v length dimension v would write without duplication slot notation