asked refactor component support b testing better approach num pas boolean method check flag inside body flag version enabled logic else b logic num create dedicated method version