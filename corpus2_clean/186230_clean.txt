applying state pattern illegal transition result exception thrown least understood pattern know exception unexpected behavior action supposed happen error would appropriate required action common ex user enters wrong password picture admin panel list order shown order num button refund cancel reorder one change state order operation allowed num button enabled default simplifying case real system much complex user example push cancel button order state cancelled invalid state transition num since expected illegal transition action occur would validation attempting cancel appropriate num validate transition still need exception model num better approach whole problem ignoring disabling button client side validation