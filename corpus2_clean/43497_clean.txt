toying around ndsolve read website discovered could use vector array much pleasure wanted write simple simulator multiple ball particle interacting lennard jones potential write way problem partsim p v mass module rp rp evaluate array unique nparticles rp ndsolve join table initial condition rp p rp v newton equation rp mass sum j ljforce j rp j nparticles third newton law future nparticles end table end join rp ftime first end function real problem arises trying also add whenevent particle present system since would like stay inside bounding box invert sign velocity every time touch wall least come withing tolerance partsim p v mass module rp vel rp evaluate array unique nparticles vel evaluate array unique nparticles rp ndsolve join table initial condition rp p rp vel v newton equation rp vel rp mass sum j pairforce j rp j nparticles nparticles end table discrete event bouncing wall table whenevent norm rp u wallcoord norm rp u vel u vel u end whenevent u nparticles end join rp ftime discretevariables vel first end function error appears seems related fact u remains unevaluated attempting table outside program reveal added discretevariables vel thought since subjecting velocity sudden change would necessary way adding list working whenevent one particle system equation many thanks