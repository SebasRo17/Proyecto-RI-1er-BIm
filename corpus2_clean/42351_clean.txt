understand b local following code clear lint lint f x module b f replace x b b clear lint x x return would expect lint x x return x clear lint f x module b f replace x b b return appears occurrence pattern inside replace interpreted outer scope update read szabolcs comment first answer still quite understand first documentation rule say symbol occur pattern name lh treated local rule fine comment said local substituted second example second using solve problem difference rule ruledelayed far see right hand symbol evaluated change behavior see new fourth example