density matrix written basis spherical tensor rho sum k sum q k k rho text kq text kq example x matrix dimension matrix drop superscript simplicity rho rho rho rho rho rho rho rho rho rho command give matrix representation kq want know make program give imput parameter write resultant matrix dependent coefficient rho kq also rho kq q rho kq also implemented final matrix depends fewer parameter edit answering hector programmed command give kq say truth made code mathematica never hardly ever elsewhere well command sphtens k q thinking algorithm get desired result step following input value create square matrix zero dimension call rho example create two loop one k another one q k till q k till k q geq rho rho rho kq time sphtens k q rho rho q rho kq time sphtens k q end end basically know write wolfram language