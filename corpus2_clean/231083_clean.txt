martin fowler mock stub state stub provide canned answer call made test mock object pre programmed expectation form specification call expected receive addition several source state stub fail test mock could validator getmock set expectation isvalid called parameter return validator expects isvalid equalto returnvalue came review project working called stock st ub ask num set expectation isvalid called certain like mock num return canned answer like stub get feeling wrong used pure stub validator expects fail test isvalid returnvalue canned answer verify isvalid called right parameter test passed sure passed right reason maybe isvalid called twice caused pas let use pure mock instead validator expects isvalid equalto verify work correctly verified call isvalid successful maybe bug rest using know people talk state v behavior verification way see way sure test pass correct reason use stock e verify behavior final state course option write num test every test criterion one using mock identical test using stub however result huge number nearly identical test correct way concrete test using dependency