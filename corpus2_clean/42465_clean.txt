question differs earlier question getting eom date list want get position date get corresponding value list problem seems boil one use position pattern list ordinary list date date said know get eom date seem make position work list map last gatherby date kluge partition date pair map function list pair return day second member less day first member zero otherwise finally get position member list equal p flatten position partition date list value csh p work seems kind clumsy