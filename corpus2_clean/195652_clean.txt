trying calculate 95th percentile set populated concurrenthashmap interested finding many call came back 95th percentile time map look like always sorted ascending order key key mean number millisecond mean number call took much millisecond millisecond number num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num num example set mean num call came back num millisecond num call came back num millisecond calculate 95th percentile plugging set excel sheet thinking calculate percentile know algorithm look something like sum value map calculate num sum iterate map key ascending order keeping running total value sum equal exceeds previously calculated num total sum key 95th percentile guess able plugin algorithm map datasets map long long histogram new concurrenthashmap long long sure best way calculate percentile sure whether algorithm also correct trying find many call came back 95th percentile time private static long time histogram keyset anyone provide example help appreciated updated got far let know got everything correct calculating 95th percentile simple log 95th percentile information private static double total num map entry long long entry histogram entryset long entry getkey entry getvalue total double sum num total double totalsum num sortedset long key new treeset long histogram keyset long key key totalsum histogram get key totalsum sum 95th percentile guess system println key