consider text index suffix tree suffix supporting count query number occurrence pattern locate query position occurrence pattern given text would go unit testing mind generate big random extract random substring big compare result query naive implementation find another idea find frequent substring length l appearing original using perhaps naive use substring testing index best way would good design unit test text index case matter c using google test