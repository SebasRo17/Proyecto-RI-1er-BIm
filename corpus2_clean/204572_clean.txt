need text processing task short xml fragment section detail show example solution use tokenizer based regular expresions elegant us build candidate build function others indicates strtok simplexml question two part num assumption correct candidate strtok simplexml correct think domdocument elephant big cpu overhead simple text processing task num use simplexml task p need algorithm implementation clue detail php offer tokenizer strtok simple see use xml option simplexml perhaps heavy task like text processing see example tokenizer exactly whant say tokenizer text processing see example used regex parser would like algorithm based built like simplexml simpler faster p align center nbsp hello world p p test nbsp beautiful day today p tokenizing tag entity reg preg replace callback z0 num global reg reg num n count reg num n echo result num num hello world num num num num beautiful num day today num process text one step example lower upper change etc echo num num hello world num num num num beautiful num day today num expand token preg replace callback num num global reg reg num echo p align center hello world p p test beautiful day today p using simplexml implement simplexml algorithm resolve illustrated problem problem load xml named entity nbsp example traverse xml get text node sx xpath text edit node using domdocument context xml fragment short domdocument imposes big cpu overhead simple text processing