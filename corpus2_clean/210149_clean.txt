num ip every ip weight want ip according weight using random example num ip x weight num weight num z weight num want x num case num case z num case depending random c tried double r rand double rand max double num num num r num choose x else r num num choose else choose z repeat num get choose x num time choose num time choose z num time want get x num num z num weighted random accurate