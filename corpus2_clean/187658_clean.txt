work open source web application moodle connects number external service google drive dropbox etc allow user exchange file service primarily using oauth based apis connect service one user interaction problem facing user expect login external service stay logged sound silly scenario num user want get file google drive account num moodle request oauth2 token google browse google drive num user logged google need login google num moodle get token user carry business moodle num user log moodle expect still logged google programmer viewpoint browser session completely responsibility user application get involved hear user misconception time particularly problem application often used shared environment good pattern dealing problem application use