would like construct operator mathematica following form partial sum neq j n frac x x j p ij quad n p ij symmetric permutation operator commute x partial p ij x x jp ij quad p ij partial partial j p ij quad p ij trying using ncalgebra package making operator non commutative defining proper rule result far efficient many operator instance applied efficient way found try push always permutation operator right behind derivative problem appears property power derivative function frac x x j simplified defined non commutative object also large power operator number term heavily increase maybe ncalgebra package longer needed operator defined normal mathematica environment thanks advance