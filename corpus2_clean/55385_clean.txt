part package working beginpackage testpackage reduction usage reduction x return x rule applied begin private auxreduction exp module matched pointsmatched stringmatchq tostring exp inputform digitcharacter digitcharacter true matched toexpression stringcases tostring exp inputform digitcharacter digitcharacter pointsmatched stringcases tostring matched x digitcharacter x exp matched toexpression pointsmatched sq pointsmatched sq exp function allows application previously defined function sum term auxreduction exp module auxlist an auxlist flatten replace exp holdpattern plus create list term sum an parallelsum auxreduction auxlist length auxlist distributedcontexts automatic reduction exp fixedpoint auxreduction exp end endpackage mathematica work fine mathematica shadowing message appear first time use function defined package example run reduction get message global sq shdw symbol sq appears multiple context global system definition context global may shadow shadowed definition expected answer happening mathematica way sum used instead parallelsum everything work fine mathematica