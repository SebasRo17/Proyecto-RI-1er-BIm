trying understand dealing immutable fp specifically f fp ok well break old habit state full thinking oop style part selected answer question reiterated search write ups around problem solved stateful representation oop immutable one fp ex queue producer consumer thought link welcome thanks advance edit clarify question little would immutable structure ex queue shared concurrently across multiple thread ex producer consumer fp