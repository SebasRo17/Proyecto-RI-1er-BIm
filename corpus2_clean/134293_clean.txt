application need model perform operation network num num node typically less num edge per node node edge object around 1k execution mapping network frequently changed node added deleted edge added deleted addition property individual node edge adjusted node object edge object allocated using new resulting pointer stored std list experimented two different approach mapping num put container node hold id edge num variable edge store id end node num add new top level container separate container edge container node store mapping information function node member class easier implement mapping information stored class making change network mapping would much easier mapping stored separately mapping stored node edge member function node edge need way get mapping information parent structure conceptual technique give best approach without duplicating breaking encapsulation performance major concern since extremely expensive calculation involved important concern safe understandable maintainable