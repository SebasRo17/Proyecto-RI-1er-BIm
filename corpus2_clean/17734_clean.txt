set x z data precise want bin z value equidistant bin based x value final array set x array slot containing average binned z value new mathematica came following code data randomreal data data strip zvalues set xvalues data yvalues data zvalues data compute maximum minimum x value maxxvalue max xvalues minxvalue min xvalues compute maximum minimum value maxyvalue max yvalues minyvalue min yvalues compute maximum minimum z value maxzvalue max zvalues minzvalue min zvalues bbx floor minxvalue floor maxxvalue floor maxxvalue minxvalue equidistant x bin bby floor minyvalue floor maxyvalue floor maxyvalue minyvalue equidistant bin blist binlists data bbx bby bcount bincounts data bbx bby give count number item bin defining array contain final z average value meanzvalues table length blist length blist initialising loop variable j k f x zvalues x defining function get z value back length blist j j length blist j empty list k k length blist j k appendto position data blist j k accessing x coordinate index position original matrix getting index binned value index flatten deleteduplicates take position command give multiple index value occur hence deleting duplicate one meanzvalues j mean map f index compute average value z accessing original array getting z value meanzvalues give output reasonable amount time couple thousand value however lag maybe crash without output set data make code efficient thank