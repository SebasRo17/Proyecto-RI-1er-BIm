building delphi application display blueprint building including door window wiring lighting outlet switch etc implemented lightweight script call drawing command canvas loaded database example one command num num num num num num draw ellipse parameter pen width num color num converted integer tcolor implementing object common drawing routine like use scripting engine call else statement example drawing light light turned like draw yellow like draw gray current scripting engine recognition statement accepts simple drawing command correspond method procedure developed incomplete executing drawing command canvas const cmd var canvas boolean single var br pn x integer p integer l inst begin result br canvas brush pn canvas pen assigned canvas begin length cmd num begin l uppercase cmd po l num begin inst copy l num po l num delete l num po l l l num x num po l num begin p po l copy l num p num delete l num p x num x num inc x end br style pn style pn color inst lin begin pn width num length num begin br style br color num end canvas moveto num num canvas lineto num num result end else inst begin pn width num length num begin br style br color num end canvas ellipse num num num num result end else inst arc begin pn width num canvas arc num num num num num num num num result end else inst txt begin canvas font size num br style pn style cmd delete num po delete num po delete num po delete num po canvas num num result end end else begin space found valid command end end end end like know good lightweight third party scripting engine could use accomplish would hate implement parsing else end ifelse necessary command need simply ability tell scripting engine certain property meet certain condition need draw certain way light example one scenario solution need also applicable scenario door open closed locked unlocked draw different way accordingly need implemented script drawing level hard scripting drawing rule drawing need controlled based current state may also wish draw light certain shade darkness depending light