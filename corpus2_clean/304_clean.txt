experiencing strange phenomenon quite artificial test case following definition work fine f x real x g f n integer n setattributes f flat f f b c f b c g f g following fresh kernel f x real x setattributes f flat g f n integer n f f b c f b c g f g however following evaluated fresh kernel hang definition g setattributes f flat f x real x g f n integer n see reason definition g depend whether first defined f first set flat attribute anyone explain mystery p anyone think better title feel free change accordingly