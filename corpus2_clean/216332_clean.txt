trait expected call provided trait certain invocation write unit test ensure happens difficulty come fact trait part definition cannot mock trait test could trait instead passed constructor