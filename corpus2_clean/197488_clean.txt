research project idea prototype statistic development cycle anyway final product prototype statistic collection suite used persistently supposing following transform private somedata public inp block outp block inp block outp block imagine part big system need periodically collect statistic transform internal could considered well seems adding statistical routine would violation single responsibility principle second smell want touch us transform instance explicitly invoke routine would best could trigger kind switch statistic module collected met challenge number time feeling constantly reinventing wheel good practice configuring collecting statistic suite compound system without interfering internal base update see answer proposed question non specific provide concrete example consider image compression system composed two huge block predictor encoder lot various prediction compression algorithm research need explore behavior component various condition answer question like many time pixel processed within context well predictor work predictor affect encoder internal state many others anyway final product codec statistical suite shipped kind statistic collection used internally research thus question arises could one build flexible statistic engine know internals system could one keep system independent statistic engine