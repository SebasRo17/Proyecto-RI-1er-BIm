building parser using parser combinator library need keep track ast node started ended textual column number problem approached strategy dealing clarification asking column calculated two possible alternative num extra piece state ala monad monad transformer updated whenever token character consumed num preprocessing token stream add column one drawback num would result work done multiple time backtracking num would increase memory usage lot entire stream done front