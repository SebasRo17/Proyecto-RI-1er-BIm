honestly idea begin problem summary coarse grid intersecting line easy example let assume x grid coarse grid intersect wish pas grid block multiple time subsequently divide grid block half either line passing possibly one vertex st pas rd pas th pas etc set number pass want assign property grid block intersected example set color blue assign property requirement algorithm provide final set refined grid block least one shared side termination point final output would list vertex cartesian coordinate thanks advance update grid block eventually total million cpu intensive calculation performed ideal solution refine grid block size close line leaving area away line coarse state