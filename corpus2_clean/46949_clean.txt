given set commuting n time n diagonalizable matrix known exists basis eigenvectors lambda simultaneously diagonalizes automated way compute lambda mathematica pair matrix done hand using eigenvectors first compute eigenvectors lambda finding similarity transforms p k act degenerate subspace lambda make also eigenvector combining transformed degenerate subspace together form lambda know generalize matrix