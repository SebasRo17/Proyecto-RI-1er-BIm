want implement protocol layer sits top tcp ip stack limited set sent represents structured form serialize structured ready transmit form deserialize structured form structurally different example struct associate ac property associate ac default std vector unsigned override std vector unsigned make const override const override std called ae std calling ae std application context struct presentation context enum result acceptance 0x00 user 0x01 reason 0x02 0x04 presentation context default unsigned id result result std transfer syntax std vector presentation context context std size max message length compared struct associate property associate default std vector unsigned override std vector unsigned make const override const override enum source unsigned ul service user 0x01 ul service 0x02 ul service enum reason unsigned specified 0x01 appl 0x02 calling ae called ae reason reason source source class inherit abstract superclass property property used layer implement protocol two member function send const property p std unique ptr const property receive mean user layer receives property want access member must check kind property received using property downcast find quite irritating done solve problem