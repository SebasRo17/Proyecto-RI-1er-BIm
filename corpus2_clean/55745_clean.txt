impossibility matchq ing inside association matchq ing association mma explains problem would like convert hierarchical list rule hierarchy association example rdata b c rdata list association return b c association value happens list converted something meaningless wanted tried variety thing like rdata x rule association x rdata list association x association notassociationq x list x rdata x rule association x none solves problem finally managed picking location list rule follows rtoa x rule association x rulestoassociation rdata module po po drop position rdata rule association mapat rtoa rdata po rulestoassociation rdata return desired result b c real application rule list come import fairly complicated json file solution seems work sure robust anyone better idea