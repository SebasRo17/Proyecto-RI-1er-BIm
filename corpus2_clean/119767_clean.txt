processing problem thinking classic producer consumer problem two added may number producer restriction one item per producer may consumed one time generally num num producer many consumer cpu core server want maximize throughput consumer ensuring never one work item process single producer complicated classic producer consumer problem think assumes single producer restriction work item may progress one time think problem multiple producer relatively easily solved enqueuing work item single work queue protected critical section think restriction simultaneously processing work item single producer harder cannot think solution require consumer notify kind work dispatcher particular work item completed lift restriction work item producer word consumer2 completed need kind callback notification consumer2 work dispatcher allow work dispatcher release next work item next available consumer whether consumer2 otherwise overlooking something simple known pattern problem would appreciate pointer