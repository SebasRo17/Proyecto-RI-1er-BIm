class following structure service tier creates map db dao tier actually executes db call write service tier call dao tier expects actual db connection getting db mocking dao tier completely service tier mocking db connection received db secondly app expects certain cache junit time cache handled since service tier includes looking cache get detail