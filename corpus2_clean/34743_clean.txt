function generates list f n join permutation padleft integerpartitions n example f f return list three element want classify according certain law belong one class member rotateleft transform one others similarly belong one class member belong one class member belongs class member result want enter image description code generate desired result absolutetime f n integer join permutation padleft integerpartitions n f list module n n length data sameq data n nestlist rotateleft list length list data n break n appendto data list data first f f drop f length f data length absolutetime slow n take second want work n range improve efficiency efficiency code