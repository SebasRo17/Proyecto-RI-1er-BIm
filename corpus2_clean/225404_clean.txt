note reference question stack overflow told post building trading application match buyer seller subscription subscription certain quantity amount certain duration time num order type buy sell subscription either partially filled regard quantity time buy sell quantity subscription partially filled regard time buy sell time subscription partially filled regard quantity buy sell quantity time subscription cannot partially filled nothing user fill example num assuming order example partially filled regard quantity time let say user place buy order asking num share num num num num num num dd mm yyyy num sell order currently order book user b selling num share num num num num num num user c selling num share num num num num num num user selling num share num num num num num num user e selling num share num num num num num num would look like user num user b num user c num user num user e num matching done user order order book would look like user num num user b num num user c num user num user e open order said done order book would look like user buying num share num num num num num num user buying num share num num num num num num user b selling num share num num num num num num user b selling num share num num num num num num user c selling num share num num num num num num user selling num share num num num num num num user e selling anything example num example exactly except user b sell quantity time subscription word user b want sell entire position matching done user order order book would look like user num num num user b num user c num user num num user e open order said done order book would look like user buying num share num num num num num num user buying num share num num num num num num user buying num share num num num num num num user b selling num share num num num num num num even match order allow partial filling user c selling num share num num num num num num user selling num share num num num num num num user selling num share num num num num num num user e selling anything process another requirement need able keep track order filled database user buy order come first match user b would result user num user b num num state would need saved database complete user c order matched would look like user num num user b num num user c num keep going user num num user b num num user c num user num question existing algorithm asking edit searching sort seems like interval tree segment tree sum tree given time range however need able store modification tree database start date implementation done linq sql edit num first edit thought interval tree look like bin packing algorithm