writing unit test fairly simple depends fairly complicated set essentially manipulating represents graph determines whether chart bar pie chart based came back server simplified version using jquery var prop1 property key var num column column num prop1 num length num else num prop1 num bar else num prop1 num pie question use mock actual database fabricate fit different case afraid expose bug arising change database hand would require lot effort keep test date sure necessary