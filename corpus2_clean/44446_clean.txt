deal vector product problem usually define fixed form vector product instance define way unprotect time r x rp x rrp x x r x r x x x r x rr x x rp x rp x x x rp x rprp x x protect time r rp vector simple case work example r rp expand r rp rrp however following case something wrong r rp expand r r rp r rp rp expected result r r rp r rp rp r rrp rp rrp find simple way fixed vector product complicated expand form