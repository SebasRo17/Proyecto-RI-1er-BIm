following line code plus table p x x p x boole memberq x first part produce p p p p p p p p p p p p p p p p p p p p p thought second part would check argument p occurs sum replace p x x either x anything else thought short result would however get instead mathematica return wrong