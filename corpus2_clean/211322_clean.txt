represents file specific binary format disk parent title another represents inside file child change sometimes need relocate new position file file notified new position added weak ptr field point file except mean shared ptr file using static factory instead public constructor initialized constructor using unique ptr look something like file private std weak ptr file file public std weak ptr file file file file modify file private std unique ptr std shared ptr file self file public std uint64 static std shared ptr file create modify std uint64 file lock file std uint64 store std shared ptr file file create auto file std shared ptr file new file file self file file std unique ptr new file file right approach better idiomatic solution feel like using ptr much think anything better