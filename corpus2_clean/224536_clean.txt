proper way handle determining amount customer dealing discount applied receipt scenario receipt contains item price returned item would give back amount spent item num num total num num b num c num scenario b proper way handle calculating amount per item include global discount coupon applied entire receipt num global coupon every num spent num num num num num num total num scenario c tied directly item receipt make easy calculate amount per item like scenario num coupon num num coupon num num num num num total num num num num num num num num num num num num thing think multiple return per receipt e g monday tuesday global discount applied entire receipt item discount applied specific item give discount minimum amount spent returning part receipt negates minimum requirement