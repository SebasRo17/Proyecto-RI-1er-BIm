udate sparsearray bug apparently fixed version system print version print mac o x x bit mac o x x bit june thanks wolfram resolution wri affirms sparsearray broken wri suggested workaround sparsearray normal experience particular sparsearray bug reliable coding requires normal workaround applied every instance sparsearray failure sparsearray sporadic occult associated unknown precondition ouch thanks extended commented wolfram technical support email support wolfram com case sporadic bug multidimensional sparsearray object hi john thank getting back u understand temporary workaround atest atest normal holding fort developer working issue anticipate resolution appear future release mathematica sincerely name redacted wolfram technology group wolfram research inc appear sporadic bug multidimensional sparsearray object plaguing code development effort version print mac o x x bit january following code elicits wrong answer kernel crash atest sparsearray crash kernel yield incorrect result unless wrapped normal atest randomreal normaldistribution randomreal normaldistribution sparsearray j k k j k j j k j k j k j k n j k j equal n complex flatten transpose flatten transpose enable following line fix atest atest atest normal following machine precision atest normal atest flatten ab max print atest normal atest id sparsearray rule atest normal id atest id flatten ab max print atest normal id atest id result kernel crash immediately atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id atest normal atest atest normal id atest id remark variant code crash fail complex valued integer valued sparsearrays apparently multidimensionality essential trait help advice workarounds appreciated