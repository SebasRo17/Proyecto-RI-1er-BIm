somewhat specific application mind run kind problem time never found elegant solution efficient way get mathematica recognize variable symbolic computation non commutative matrix others commutative scalar still able elementary calculus operation commutative variable specifically expansion form f j z frac psi j zeta j z frac psi j zeta j z frac psi j zeta j z dot qquad j dot zeta j z explicit scalar function zeta j psi j k symbolic constant matrix computation need compute thing like g j k w operatorname re limit z frac f j z f k z z w order infty toy example non commutativity problem full problem need iterate computation computing similar residue g j k commutativity becomes issue way hand mathematica function zeta j z compute g j k w g k j w correctly e think g j k g k j would like purely symbolically minimal example one could take zeta z z zeta z sin z na attempt hoped might work included parameter f term g truncate number term output assumption table p element matrix zeta element complex zeta f sum psi j zeta w j j g residue f f w z w infinity fails though mathematica return term residue left unevaluated replace last line scalar product g residue f f w z w infinity output order matrix multiplication lost