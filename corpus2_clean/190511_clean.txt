middle designing next generation database access one program building use postgresql exclusively current approach procedural largely inspired believe restful web service paying attention discoverability well database defines rather loosely api application discovers api designed readily useful readable computer dba read current approach num num introduction soda html basic point look name generate procedural call easily mapped method perl class support call interface like recon report exec funcname cash recon approve would use property fill expected argument cash recon allows api changed small extent without breaking basic contract application thus allows worst stored procedure woe avoided might generate sql query like select cash recon approve num definition postgresql would look like create replace cash recon approve id return one big problem approach though manage large number name way looking like interface around database currently manage using double underscore creates many problem solves slightly better using nonstandard character requiring every quoted dba type test case though new interface looking would different instead identifying portion underscore would used first argument equivalent would much annoying looking select approve num num num f f num num num num num num num num num num chris f f cash recon definition would look something like create replace approve obj cash recon return interface would also discoverable would rely discovery likely individual could read call understand exactly right away major advantage however would allow complex structure passed would necessary procedure expect able determine whether transaction balanced writing database case clearly preferable requires though test case would need dynamically generated database manually written test case would likely quite brittle example strike case existing stored procedure interface probably preferable posting journal entry strike one approach development significantly preferable first question given two api different strength weakness raise red flag support assume stored procedure may written either spec generally better smaller spec one api approach supported word old api deprecated used alongside new one leaning towards latter would like get feedback second question assuming support better discover form api time require different call old v new style leaning towards discovery allows function db rewritten remain call compatible need