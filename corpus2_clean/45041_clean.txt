want define prefix covariant derivative operator cd symbolic tensor form function e assumption element g array real symmetric also element cd g array real symmetric made assumption additional slot created left far way found make possible defining function assumption element v vector real cddef appendto assumption element cd array join tensordimensions real tensorsymmetry tensorproduct v assumption deleteduplicates assumption cd effectively writing assumption hand assumption could generate huge list bigger calculation attempt kind assumption element cd somesymmetryq array one slot use pattern least valid tensor symmetry failed effective way proceed many thanks hendrik