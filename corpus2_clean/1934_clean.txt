know number result generated usual way collect result reap sow another alternative linked list neither available compiled function appendto work n complexity unacceptably slow long result list clever suggestion use internal bag situation internal bag inside compile unfortunately compiled bag hold scalar let try use vector cf compile module bag internal bag internal stuffbag bag internal bagpart bag compileprint show call mainevaluate work best way collect large number result compiled function number result known computation result type fixed size vector matrix benchmarking answer andy answer cf compile len module bag internal bag internal stuffbag bag len partition internal bagpart bag cf timing null needed initialize bag using bag internal bag let compile know holding integer real see leonid answer cf compile len module arr lim ctr arr constantarray lim length arr ctr ctr lim arr join arr table lim lim length arr arr ctr len take arr ctr cf timing null comparing computational complexity two solution direct measurement data table round k first absolutetiming cf round k k data table round k first absolutetiming cf round k k listloglogplot data data mathematica graphic