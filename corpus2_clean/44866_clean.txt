synthetic spectrum wavelength range micron interpolated spectrum sampling purpose however also attempting calculate first second derivative interpolated spectrum find location local maximum however numerical differentiation keep producing error claiming input value outside range data interpolating function important part code need numericalcalculus template import c user john document research koi template txt table interpolation template interpolationorder nd x x template dataset domain contains data point however nd command produce error interpolatingfunction dmval input value lie outside range data interpolating function extrapolation used interpolatingfunction dmval input value lie outside range data interpolating function extrapolation used either need figure causing error figure another way finding location peak spectrum tried simple peak finding loop giving good result peak n n length template n template n template n template n template n template n template n template n peak append peak template n looking simple idea find peak spectrum