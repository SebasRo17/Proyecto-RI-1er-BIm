history currently using called redirect model online payment send payer payment gateway input payment detail gateway success failure callback page easy straight forward unfortunately quite inconvenient time confusing customer leaving site changing credit card detail additional login another site etc intention problem description intending switch integrated approach using exchange xml request response problem cater rather thing may happen processing bearing mind normally simplicity robust whereas complexity fragile example user abort user input credit card detail hit submit xml message provider gateway sent waiting response user hit stop browser close window ignore user abort php may option reliable might better redirect user please wait page turn open ajax request actual processor rely connection database go away sound complicated e g webserver state db uk happened happen user click together order payment request sent provider response cannot stored database approach could use using php sort start sql like transaction end get committed rolled back depending individual step neither commit roll back happened could sort lock user prevent paying improperly account payment else need consider technically none integration example e g offer insight either search engine search term good enough find somebody else thought thank much insight would approach