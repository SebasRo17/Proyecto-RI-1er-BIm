read line text file sequential order file custom text format contains section section order would like look starting next valid section continue processing currently look like num line count process section order condition stay next iteration may start valid section continue smell update mention earlier root cause kind complicated switch case typical parsing got rid incrementing decrementing using goto case statement structure look like switch state case state bof process bof case case state order condition state state bof reset state respectable one removed continue removed goto case state bof handle iteration