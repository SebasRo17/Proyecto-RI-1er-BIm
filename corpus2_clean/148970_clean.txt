feel like reusable something sure whether think pattern algorithm neither characterized unknown amount work accomplish task subtasks encounter various condition cause add issue global queue command repeatedly coupled round issue fixing either issue left number issue change putting enough show talking bit let know post public var locator get icommand ienumerable campaign var campaign execute var issue locator get icollection issue issue count num issue count issue issue clear campaign execute issue count system writeline issue got fixed quitting num num break issue count num campaign private icollection issue issue issue foreach var issue issue system writeline issue issue gettype issue tostring issue var issue var command locator get icommand model advertiser command execute else issue var issue var command locator get icommand model command execute else issue var issue var command locator get icommand model command execute else issue var issue var command locator get icommand model command execute add issue find issue supposed something need happen new campaign able actually get created target store public command ienumerable campaign private ifactory private ifactory public ifactory ifactory public override ienumerable campaign execute using var eom create using var cake create get eom campaign var campaign eom campaign select c c pid tolist get cake offer var offer cake select c c offer id tolist get cake offer match eom campaign var offer except campaign tolist get default value eom eom eom eom create new campaign memory var offer cake contains offer offer id select new offer offer campaign new campaign pid offer offer id campaign offer campaign status id account manager id ad manager id advertiser id tolist set campaign status var eom todictionary c c c c id add private active add apply active add inactive default foreach var item item offer containskey item campaign campaign status id else new set advertiser var cake todictionary c c advertiser id foreach var item parse item offer advertiser id var cake firstordefault c c advertiser id var eom advertiser firstordefault c c item campaign advertiser id id else new set account manager foreach var item parse item offer advertiser id var cake firstordefault c c advertiser id eom tolist singleordefault c c item campaign account manager id id else new else new item offer set ad manager foreach var item parse item offer advertiser id var cake firstordefault c c advertiser id ad eom tolist singleordefault c c ad item campaign ad manager id ad id else new else new item offer select c c campaign tolist