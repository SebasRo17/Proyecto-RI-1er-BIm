like find point time series certain distance away value time previous maximum consider reversal example threshold reversal point would since unit away previous maximum want find reversal point one need reset running maximum split list start new list code find first reversal computes distance element rolling maximum look first difference bigger threshold t rollmax foldlist max first t rest t delta rollmax t sel map delta index position sel true procedural way probably preferred way new functional programming quite know sort pattern available would help better way writing code please let know