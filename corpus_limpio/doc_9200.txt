try include stdioh include include display dpy int screen xcolor xclrsxclrp xid cmap int cellsijredgreenbluegot main dpy xopendisplaynull screen defaultscreendpy cells displaycellsdpyscreen cmap xclrs xcolor malloccells sizeofxclrs xclrp xclrs icells xclrppixel xclrpflags xclrp xquerycolorsdpydefaultcolormapdpyscreenxclrscells xstorecolorsdpycmapxclrscells xinstallcolormapdpycmap got whilegot xclrp xclrs got icells ifxclrpred xclrpred got ifxclrpgreen xclrpgreen ifxclrpblue xclrpblue xclrp xstorecolorsdpycmapxclrscells xinstallcolormapdpycmap got whilegot xclrp xclrs got icells ifxclrpred xclrpred got ifxclrpgreen xclrpgreen ifxclrpblue xclrpblue xclrp xstorecolorsdpycmapxclrscells xinstallcolormapdpycmap work pseudocolor xserver hopefully