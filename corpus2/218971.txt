I am looking at implementing similar functionality as Tripadvisor has when it comes to browsing hotels. However my site sells classified items. I would like for the the following scenario to take place. Let's assume all users have agreed to share basic information with the classified site. A user John lists an item and user Ann browses to that item. They have a common friend Paul. Ann then sees "Paul is a friend of this seller" when she browses to the items page. This assumes John has also linked his site account with Facebook and we have his FB ID. One way would be to store all of John's friends and update that list when ever he visits the site. You would then run a query on this table each time a user visits that listings page to look for matches. Any thoughts on the best way to do this?