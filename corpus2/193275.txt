Say some 20 people go to a shop and everyone buys something. When it comes to paying, 5 of them pay the complete amount of 10,000$ split unequally between them. Since everyone bought different things they all owe different amounts to the payers. Now there are multiple ways the payers can clear the balances with the payees precisely 20 to the power 20. My question is on what technical basis should the payers and payees contact each other for clearance? All the solutions can not be equally good, or are they? One of the ways of clearing would be to find payers and payees with equal amount so that they can cancel out each other thus reducing the total number of transfers. **UPDATE:**   1. People can transfer arbitrary amounts to anyone.   2. Minimizing total number of transfers is the main goal.    3. A payee can not pay an amount greater that what he owes and become secondary payer.   4. The output should be a list of suggested transfers. A suggested transfer would look like this `{FromUser: a, ToUser: b, ClearanceAmount: 100}`   5. The payers don't know who holds their debt.   6. The payees debt can be split across multiple payers.   7. The payees knows how much each payer paid from the total amount.