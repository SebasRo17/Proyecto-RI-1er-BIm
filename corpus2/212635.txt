Many literature references suggest that the _binary labeling problem_ can be converted into a graph cut problem and solved with the max flow/min cut algorithm. I'm trying to understand the formulation given in Xiaowei Zhou's presentation of the reduction. The binary labeling problem consists of partitioning `n` items (here segments of the overlapped regions of two images) into two disjoint sets in a way which minimises an energy function. We can denote the partition as a vector `(x_1, ..., x_n)` whose elements are `0` or `1`; we also have per-item fitness functions `D_i`; and we define a per-item-pair transition function `V_{i,j}` which penalises discontinuities. Then the energy function is given by               E(x_1, ..., x_n) = SUM_p D_p(x_p) + SUM_{p,q} V_{p,q}(x_p, x_q)      In my particular case I have 32 segments, so there are 2^32 possible vectors to evaluate. I could evaluate `E` for each combination, performing 2^32 evaluations, and so get the minimum energy and the combination which achieves it. This is what my intuition suggests. But this is impractical, because the complexity is exponential. Therefore I want to use the graph cut approach, but I don't understand how to formulate the graph. The 32 segments are the nodes of the graph, but what would be the weight of the edges? And what would be the capacity?