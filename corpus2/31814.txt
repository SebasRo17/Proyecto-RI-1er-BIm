### Cross-posted at Wolfram Community I would like to have a function makeJPG[megabytes_] that generates random jpg images of given file sizes with itf filesize (in megabytes) watermarked on the image itself. This is tricky because jpg compression isn't constant. Here's my first pass at it (but the watermark is squished, and the filesizes are not accurate):               (*Estimated by hand*)     points =       {{0.841, 1241.906471417973`}, {2.399941`, 2000}, {9.597819`, 4000}, {38.390543`, 8000}};     ifun = Interpolation[points];          makeJPG[megabytes_] :=        Module[{dim = IntegerPart @ ifun[megabytes], numberWatermark},         numberWatermark =            Rasterize[Style[ToString[megabytes],              FontFamily -> "Helvetica Neue"], ImageSize -> {dim, dim}];         Export[ToString[megabytes]~~".jpg",            ImageAdd[Image[RandomReal[1, {dim, dim, 3}]],              ImageSubtract[Image @ numberWatermark, 0.7]]]]      **Motivation** The application here is an iphone app that I need to test on images of different megapixels.