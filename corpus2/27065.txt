I have a trouble with plotting a pde system solution. I'm solving a PDE system in 2-dimensional space and then I want to integrate the solution along one dimension and build a log plot along the other. I tried the following piece of code:               rules = NDSolve[{Eqs, Append[{Cond0, Cond00, Cond1}, Cond]},                      U[t, x], {t, 0, 0.01}, {x, 0, H}];     F = (NIntegrate[First[U[#, x] /. rules], {x, 0, H}]) &     F[0.1]      which produces an error > "Integrand has evaluated to non-numerical values". I assume it happens because _Mathematica_ is trying to integrate the function before substituting `0.1`. I thought that putting it into the pure function that evaluates its body only after substitution would fix the problem, but it didn't. How to make it work?