i have data with a baseline and will correct it with a polynomial fit using `Manipulate` to see immediatly the changes in the resulting spectrum. It works so far, but the problem is the definition of the function `fbaseline` in the `Manipulate` Part. Mathematica keeps calculating until my RAM is full and then the computer freezes. If I leave out the "_" (fbaseline[x]=...) the code doesn't work anymore, because I can't apply the `Map` function. Do you have an idea, how I can avoid this? Here is a minimal working example: Generate Data:                 datafunc = Exp[-0.2 x] + Exp[-0.1 (x - 10)^2/0.2];       data = Table[{x, datafunc + .05 RandomReal[{-1, 1}]}, {x, 0, 25, 0.05}];       ListPlot[data]      Initial values:                 xi = {5, 15};      Manipulate part:                 Manipulate[         baselinedata = Cases[data /. {x_, y_} /; (x > x1 && x < x2) -> 0, {x_, y_}];         fbaseline[x_] = f[x, n] /. FindFit[baselinedata, f[x, n], Array[a, {n + 1}, 0], x];         datablk = Transpose[Join[{data[[All, 1]]}, {data[[All, 2]] - Map[fbaseline, data[[All, 1]]]}]];         Show[ListPlot[{data, baselinedata, datablk}, PlotStyle -> {{Gray, PointSize[Medium]}, {Orange, PointSize[Medium]}, {Red, PointSize[Medium]}}, PlotRange -> All],Plot[fbaseline[x], {x, 0, 25}, PlotStyle -> {Black, Dashed}],         Graphics[{PointSize[Large], Point[{{x1, 0}, {x2, 0}}]}], ImageSize -> 1000],         {{n, 6}, 2, 8, 1}, {{x1, xi[[1]]}, 0, 15}, {{x2, xi[[2]]}, 5, 25}         ]      Another problem is, that the axis at y=0 dissapears for some values. Previous version (not working without the data): Here is the code i have so far:                f[x_Symbol, b_Integer] := Array[a, {b + 1}, 0].x^Range[0, b];Â´      (*Initial values for excluded ranges*)      xi = {441, 1151};      region1 = {{0, 4000}, {-1000, 25000}};      region2 = {{0, 4000}, {Min[data], Max[data]}};           Manipulate[        baselinedata =         Cases[data /. {x_, y_} /; (x > x1 && x < x2) -> 0, {x_, y_}];        xi = {x1, x2};        fbaseline[x_] = f[x, n] /. FindFit[baselinedata, f[x, n], Array[a, {n + 1}, 0], x];             datablk = Transpose[Join[{rawdata[[All, 1]]}, {data[[All, 2]] - Map[fbaseline, rawdata[[All, 1]]]}]];        Show[ListPlot[{data, baselinedata, datablk},         PlotStyle -> {{Gray, PointSize[Medium]}, {Orange,         PointSize[Medium]}, {Red, PointSize[Medium]}},         PlotRange -> region],        Plot[fbaseline[x], {x, 400, 4000}, PlotStyle -> {Black, Dashed}],        Graphics[{PointSize[Large], Point[{{x1, 0}, {x2, 0}}]}],        ImageSize -> 1000],     {{n, 6}, 2, 8, 1}, {{x1, xi[[1]]}, 400, 600}, {{x2, xi[[2]]}, 800, 1300}, {{region, region2, "Plotregion"}, {region1 -> "Zoom", region2 -> "All"}}      ] ![enter image description here](http://i.stack.imgur.com/ZO0gU.jpg)