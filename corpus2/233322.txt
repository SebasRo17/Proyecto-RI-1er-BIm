I am trying to design database for this case:   1. Assignments have vectors, relation is 1:N   2. Assignments have submissions, relation is 1:N   3. Submissions have executions, relation is 1:N   4. Every execution have one vector. ![Database EER diagram](http://i.stack.imgur.com/MEHHW.png) Business logic   1. teacher creates assignments and defines test vectors   2. student upload his solution, so record in submissions is created   3. After successful compilation of submission, submission is executed with defined test vectors. Each execution is one record in executions (One execution per vector). So circular reference is created after successful execution, but if compilation failed no record is created in executions. Link between vectors and executions is needed for score calculation process, where is reference output from vectors compared to output from executions. So in my case, circular reference is not persistent, but it depends on runtime, so it is wrong design?