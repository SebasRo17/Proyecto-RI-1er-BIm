I want to find propabilities of having a sequence in a list, by using frequencies. The case is that you will bet on an increase when the last event had an increased and bet on derease when the last event had a decrease. This is what I found. But I want to do it faster an with more a lot more data               imput = {395.13, 395.24, 391.25, 394.76, 395.15, 394.9, 396.31,        394.46, 394.8, 396.28, 397.66, 396.86, 394.48, 396.4, 396.14,        396.62, 395.58, 391.69, 387.08, 384.91, 388.26, 386.84, 384.7,        381.6, 377.44, 375.98, 380.49, 379.66, 385.17, 388.34}               growth = Ratios[imput] - 1      > >     {0.000278389, -0.0100951, 0.00897125, 0.000987942, -0.000632671, >      0.00357052, -0.00466806, 0.000861938, 0.00374873, 0.00348239, >     -0.00201177, -0.00599708, 0.00486717, -0.000655903, 0.00121169, >     -0.00262216, -0.00983366, -0.0117695, -0.00560608, 0.00870333, >     -0.00365734, -0.005532, -0.00805823, -0.0109015, -0.00386816, >     0.0119953, -0.0021814, 0.014513, 0.00823013} >   (I delete zeros, so I have a smooth list, but it is not necessary)               sign = Sign[growth]      > >     {1, -1, 1, 1, -1, 1, -1, 1, 1, 1, -1, -1, 1, -1, 1, -1, -1, -1, -1, >     1, -1, -1, -1, -1, -1, 1, -1, 1, 1} >                 direction = Drop[Prepend[sign, 0]*Append[sign, 0], -1]      > >     {0, -1, -1, 1, -1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, -1, 1, 1, 1, >     -1, -1, 1, 1, 1, 1, -1, -1, -1, 1} >   (this is to see when we where right. the first time there is no prediction so we where wrong either way. The second time predicted an increase, since 380.49 was bigger then 375.98 and the last event had an increase, but returned a decrease (379.66). So the second time we lost. etc)               row = Quiet[       RecurrenceTable[{a[day + 1] ==           If[Part[Drop[direction, 1], day] > 0.5,            a[day] + Part[Drop[sign, 1], day], Part[Drop[sign, 1], day]],          a[1] == Part[sign, 1]}, a, {day, 1, Length[Drop[sign, 1]]}],        Part::pspec]      > >     {1, -1, 1, 2, -1, 1, -1, 1, 2, 3, -1, -2, 1, -1, 1, -1, -2, -3, -4, >     1, -1, -2, -3, -4, -5, 1, -1, 1} >   (I am not proud of this formula, so I hope someone has an easyer way for doing this. This finds the length of a sequence increase or decrease in a row. Where "-2" means the second decrease in a row.)               frequencyRow = Table[Count[row, Part[row, n]], {n, Length[row]}]          {9, 8, 9, 2, 8, 9, 8, 9, 2, 1, 8, 3, 9, 8, 9, 8, 3, 2, 2, 9, 8, 3, 2,      2, 1, 9, 8, 9}      (where this is the secon formula i dont like, which shows the frequency of the amount of times it increases or decreases on the places of the bet)               chanceRow = Round[frequencyRow/Length[row], 0.01]      > >     {0.32, 0.29, 0.32, 0.07, 0.29, 0.32, 0.29, 0.32, 0.07, 0.04, 0.29, >     0.11, 0.32, 0.29, 0.32, 0.29, 0.11, 0.07, 0.07, 0.32, 0.29, 0.11, >     0.07, 0.07, 0.04, 0.32, 0.29, 0.32} >   (where this is the chance of the event) Please help me polishing this, it does not matter if it is a totally different way as long as it is easier or fast, because I just really don't like the recurrence table (since I want to upgrade this project to a function like `chanceRow[x1_,x2_,x3_]:=` and the recurrence table then gets slow or shows errors)