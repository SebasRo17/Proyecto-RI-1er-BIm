I'm wondering how better to perform this operation for a large amount of files. The bit I'd like some thoughts on **whether this copy/paste is acceptable enough of a tradeoff**.   * try to write a file   * if the target dir doesn't exist, create it   * try again to write the file. If something else throws and exception, let it raise.               try{        File.Copy("@D:\foo.txt", @"C:\mydir\foo.txt");     }     catch (DirectoryNotFoundException){            CreateDirectoryForFile(@"C:\mydir");        File.Copy("@D:\foo.txt", @"C:\mydir\foo.txt"); //copy pasted from the try block     }      There's a simpler block that's easier to read, but leads to a higher number of disk IO calls that is necessary:               CreateDirectoryForFile(@"C:\mydir\foo.txt");     File.Copy("@D:\foo.txt", @"C:\mydir\foo.txt");      Can pattern 1 be improved?