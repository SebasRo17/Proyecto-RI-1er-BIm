This question is a follow-up from here. I have a function that generates a list of correlations between some random variables:               varparams = Table[i, {i, 0.1, 0.9, 0.1}];          var[i_] :=       RandomChoice[{varparams[[i]], 1 - varparams[[i]]} -> {1, 0}, 10]          corrcheck[i_, j_, n_] :=       Table[BlockRandom[SeedRandom[k];           Correlation[var[i], var[j]]], {k, n}]      Now, if by chance one or both of `var[i]`,`var[j]` is a list of all 1's, then `Correlation[var[i],var[j]]` is undefined. I want to improve `corrcheck[i_, j_, n_]` so that it automatically throws away all such `vars`. My idea was to do something like this:               corrcheck[i_, j_, n_] :=       Table[BlockRandom[SeedRandom[k];         If[Mean@var[i] != 1 && Mean@var[j] != 1,          Correlation[var[i], var[j]], "N/A"]], {k, n}]      Why doesn't this work? Have I missed a better alternative? Thanks in advance.