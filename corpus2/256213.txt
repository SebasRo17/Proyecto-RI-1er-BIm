I'm developing a browser game with nodejs. I'm trying to make a "invest" function with letting users invest according to their balance. The problem is, lets say:               A user came and invested 20 dollar    %40 of bankroll         B user came and invested 30 dollar    %60 of bankroll      Then:               C user played and lose 10 dollar      Worked good so far, now :               A user has 24 dollar    %40 of bankroll   (+4 dollar)     B user has 36 dollar    %60 of bankroll   (+6 dollar)      But, then if a **D** user come and invest some dollars, site profit is dividing to 3 according to my function. **D** user is came last and he **mustn't** get any profit. How can I set up a working and flawless investment system?