Here is my approach, for an example surface function:               surface[x_, y_] := Sin[x y];      The normal vector of a point in the surface is computed as:               NormalVector[a_, b_] := {D[surface[xx, yy], xx], D[surface[xx, yy], yy],1} /. {xx -> a, yy -> b};      Then the plot is as follows:               Plot3D[surface[x, y], {x, 0, 3}, {y, 0, 3}, ColorFunction -> Function[{x, y, z},      RGBColor[0, 0, VectorAngle[NormalVector[x, y], {0, 0, 1}]]]]      However it fails, why?