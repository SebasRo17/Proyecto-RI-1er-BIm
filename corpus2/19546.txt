![here is a simple building floor plan](http://i.stack.imgur.com/qDhl7.jpg) Here is a simple building floor plan. I would like to derive the _rooms as (rectangular) components and the names of the rooms_. This is very common representation of building floor plans. **The problem** So far I could clean up the floor plan. However, only the walls are left as one component but I would like to derive the _rooms as rectangular components_. In the solution - The rooms may have polygonal shapes as well as rectangles with small rectangular components called circulation areas, corridors or an other function name... alternatively they could added to living room or any other near function. My Question is how to proceed from here? **Code to start with**               img = Import["http://i.stack.imgur.com/qDhl7.jpg"]     nsc = DeleteSmallComponents[Binarize[img, {0, .2}]];     m = MorphologicalTransform[nsc, {"Min", "Max"}]      **Cleaned up floor plan** ![Cleaned up floor plan](http://i.stack.imgur.com/9ywgs.png) **EDIT 1** Some further information about the image. The image contains 2 types of information.   1. The geometric   2. The Spatial The Spatial information; it is important to abstract the room names for defining adjacency of spaces. The door and windows helps to define the adjacency matrix. The adjacency matrix with the geometric information can be used to calculate areas or boundaries. For example : ![Layout](http://i.stack.imgur.com/S6j4F.png)