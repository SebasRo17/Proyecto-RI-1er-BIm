I am hitting a stumbling block with TDD flow. We are using PHPUnit+FuelPHP and I am stuck on how to write a unit test for our image upload/cropping feature. FuelPHP is notoriously hard to unit test (see my forum post here and it's difficult (but not impossible) to mock/stub controllers that deal with the FILESYSTEM. I've decided to not write a unit test our this particular feature because I feel that it would not be worth the effort to fake binary files. I'd be writing too much testing code (and not enough application code) to get around FuelPHP. But I am bothered that we won't have 100% code coverage. So I was wondering if I was approaching TDD incorrectly (or not trying hard enough) or if this was a legitimate case of when NOT to write a unit test?