I'm pretty new to image processing, and I am currently working on a paint-like application that will feature a bucket-fill. However, I have no idea what the best algorithm for a bucket-fill is. I implemented an example I found from this site, however, it ran into infinite loop problems when a user tried to bucket-fill an area that had already been bucket-filled with the same color. I'm currently working around that problem by filling left, right, up and then down; however, I made it so that once a pixel has been filled in to the left, it cannot fill to the right, which means shapes such as: ![Example](http://i.stack.imgur.com/bDHrE.png) will not be filled properly if the bucket tool is used at the red dot. Therefore, I am hoping someone knows of an algorithm or a link to one that will resolve all these issues. **Additional Information:** This will be implemented using Javascript as the paint tool. It will be used online utilizing the Canvas element.