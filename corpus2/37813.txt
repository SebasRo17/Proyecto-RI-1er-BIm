Here is code from Simon Woods' answer for getting all possible weak (equal ranks allowed) orderings for $N=3$ objects:                ClearAll[f]; SetAttributes[f, Orderless];      ReplaceList[f[a, b, c], f[a___, b___, c___] :> {{a}, {b}, {c}}] //      DeleteCases[#, {}, -1] & // Union // Column      It gives $13$ such orderings:               {{a, b, c}}     {{a}, {b, c}}     {{b}, {a, c}}     {{c}, {a, b}}     {{a, b}, {c}}     {{a, c}, {b}}     {{b, c}, {a}}     {{a}, {b}, {c}}     {{a}, {c}, {b}}     {{b}, {a}, {c}}     {{b}, {c}, {a}}     {{c}, {a}, {b}}     {{c}, {b}, {a}}      How can I modify this code for the case when not more than $2$ subsets are allowed? The desired output is:               {{a, b, c}}     {{a}, {b, c}}     {{b}, {a, c}}     {{c}, {a, b}}     {{a, b}, {c}}     {{a, c}, {b}}     {{b, c}, {a}}      I am trying to find way for doing such reductions in general $N$ and for any number of subsets-restriction.