I want to solve the following problem symbolically, using `Probability`: > What is the probability of the first random variate of a set to be present > more than once, if the set is constructed of random variates from a specific > discrete probability distribution in a way that its' length is at most N, > and any other duplicates except the first variate are removed? Maybe that's not the most elegant way to describe the problem, but it's better than nothing. What I would want is to reach a symbolic result using `Probability` in a descriptive way that is intuitively reached from the definition of the problem. At the moment, I have only a numeric simulation to solve this problem:               prob[dist_, n_] :=      Block[{weightedResult},            (* Return {probability, weight} for a single trial *)       weightedResult[] :=        Block[{f, test},              (* Append if value is the same as first, or not in rest *)         f[vals_] :=          With[{v = RandomVariate[dist]},           If[vals != {} && v != First@vals && MemberQ[Rest@vals, v],            vals,            Append[vals, v]]];              (* Stop nesting if first and last are the same,          or limiting length of unique values is reached *)         test[{} | {_}] := True;         test[vals_] := First@vals != Last@vals && Length[vals] < n;         Block[{vals = NestWhile[f, {}, test]},          {Boole[First@vals == Last@vals],           PDF[dist][First@vals]}]];            (* Computes weighted mean of 10000 trials *)       WeightedData @@          Transpose[ParallelTable[weightedResult[], {10000}]] // Mean]      It works for plots...               DiscretePlot[      prob[DiscreteUniformDistribution[{1, n}], 10], {n, 10, 50}]      > ![enter image description here](http://i.stack.imgur.com/o2REO.png)               DiscretePlot[prob[GeometricDistribution[1/n], 10], {n, 2, 20}]      > ![enter image description here](http://i.stack.imgur.com/VFh8c.png) Where to start on symbolic solution?