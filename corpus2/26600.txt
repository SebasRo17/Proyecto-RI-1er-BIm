I am trying to do a contour integration in _Mathematica_ numerically. In particular, I'm checking the identity: $$ H_m^{(1)}(z) =\frac{i^{-m}}{\pi}\int_{-\pi/2 + i \infty}^{\pi/2 - i \infty} \exp[i m \beta + i z \cos\beta]\mathrm d\beta $$ In Stratton's _Electromagnetic Theory_ (I am a physicist), he claims (p. 368) that you can freely deform the contour since the kernel is an analytic function, assuming the contour stays within a certain region. Here's a diagram (from here): ![admissible region for Hankel function contour](http://i.stack.imgur.com/l0ESD.png) This is all fine, and I have no problem with this; however, when I try to evaluate the contour integration in _Mathematica_ with code that looks like:               Hmz[m_, z_] := Exp[-I m Pi/2]/Pi NIntegrate[Exp[I m B + I z Cos[B]],                      {B, -Pi/2 + I Infinity, -Pi/2 + I Pi/2, Pi/2 - I Pi/2, Pi/2 - I Infinity}]      or alternatively (along a different, but apparently valid, contour):               Hmzother[m_, z_] :=  Exp[-I m Pi/2]/Pi NIntegrate[Exp[I m B + I z Cos[B]],                                       {B,  -Pi/2 + I Infinity, -Pi/2, Pi/2, Pi/2 - I Infinity}]      I get different answers - at least for the imaginary part (particularly for small $z$). For example, evaluating for $m = 3$ and $z = 1$ gives (not actual lines of code):               Hmz[3, 1] == 0.0195634 - 2.72402 I     Hmzother[3, 1] == 0.0195634 - 0.248805 I      For reference, the true value should be `HankelH1[3,1] == 0.0195634 - 5.82152 I`. The only difference between the definition of `Hmz` and `Hmzother` here are the contours, yet they should give the same answer. Ideally, I'd like to use the contour `{B, I Infinity, 0, Pi, -I Infinity}`, but this gives an even worse disagreement. Does anybody know how to get _Mathematica_ to do the contour integral correctly in the complex plane? Thanks all.