Is it possible to define a Malliavin calculus with _Mathematica_ 9? Consider a random variables on the Wiener-space $\Omega=\mathcal{C}([0,1])$ of the form $$F=F(\omega)=\displaystyle\int_{0}^{T}h_{t}dW_{t}$$ for some deterministic $h(.)$ in $L^{2}[0,T].$ Here, $\omega$ is a path in the Wiener- space, $\omega \in \Omega$. We define the Malliavin derivative by $$ DF=h,\text{ and }D_{t}F=h_{t}. $$ Let say `MalliavinDer` is this derivative. We have the following rules   1. `MalliavinDer[F_ + G_] := MalliavinDer[F]+MalliavinDer[G]`;   2. `MalliavinDer[F_G_]:=MalliavinDer[F]G+ MalliavinDer[G]F`   3. `MalliavinDer[f(F)]:=f'[F]MalliavinDer[F].` On the other hand, we have for example:   1. `MalliavinDer[\int_0^T h(t)dWt] := h(t)`   2. `MalliavinDer[W_s] := Piecewise[{{1, s <t}, {0, s >t}}]`   3. `MalliavinDer[f(W_s] := f'[W_s])Piecewise[{{1, s <t}, {0, s >t}}]`