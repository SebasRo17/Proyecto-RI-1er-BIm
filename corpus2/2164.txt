Inspired by this question I would like to know if the following code can be written without explicit loops (For, While, etc.) in a clean, efficient and non-contrived way. I have been unable to do so.               max = 5000;     a = ConstantArray[0, max];     x = y = z = n = 1;     val := 2 (2 n^2+(y-2) (z-2)+x (y+z-2)+2 n (x+y+z-3));     For[x = 1, val <= max, x++,      For[y = 1, val <= max && y <= x, y++,       For[z = 1, val <= max && z <= y, z++,        For[n = 1, (r = val) <= max, n++,         a[[r]]++        ]; n = 1       ]; z = 1      ]; y = 1     ]      The output is the array `a`.