I honestly have no idea where to begin with this problem. In summary, I have a 2D coarse grid with an intersecting line. For an easy example, let's assume it's a 4x4 grid. ![Coarse Grid with intersect.](http://i.stack.imgur.com/nOJ7L.png) I wish to pass through each grid block multiple times and subsequently divide each grid block in half that either has the line passing through it (or possibly through one of its vertices). ![1st pass](http://i.stack.imgur.com/UKWAk.png) ![3rd pass](http://i.stack.imgur.com/zrkKl.png) ![4th pass](http://i.stack.imgur.com/Mz2AE.png) ...etc. After a set number of passes, I want to assign a property to each grid block that is intersected. (example, set color to blue). ![Assign properties](http://i.stack.imgur.com/9qWON.png) The only requirement is the algorithm provide the final set of refined grid blocks have at least one shared side until the termination points. The final output would be a list of vertices and their cartesian coordinates. Thanks in advance. **UPDATE:** The grid blocks (which will eventually total in the millions) will have CPU intensive calculations performed on them. So the ideal solution will only refine the grid block size close to the line while leaving the areas away from the line in their "coarse" state.