Sorry, but I need the following code much faster and I'm running out of ideas. I do appreciate any help. I post two of my fastest ideas (tab and mat), although they are not really fast. Thanks in advance.               Clear[bNum,nNum,weights,newMat,sortMat,tab];          bNum=20;     nNum=100;          weights=Table[RandomReal[{-10,10}],{b,1,bNum},{n,1,nNum}];     newMat=Table[RandomReal[{-10,10}],{b,1,bNum},{n,1,nNum}];     sortMat=Table[i,{i, -10, 10, 0.1}];          tab=Table[     Sum[weights[[k,i]]*If[newMat[[k,i]] <= sortMat[[j]],1.,0.],{i,1,nNum}],{k,1,bNum},      {j,1,Length[sortMat]}];//AbsoluteTiming          mat=Block[{k=1},     Reap[Do[     Sow[Table[Sum[weights[[k,i]]*If[newMat[[k,i]] <= sortMat[[j]],1.,0.],{i,1,nNum}],{j,1,Length[sortMat]}]];     k++,{bNum}]]][[2,1]];//AbsoluteTiming