The question is not about changing the method/function visibility or extract local variable into instance variable in order to perform unit tests. There are cases where we could include some logic in the source code in order to help us performing some functional tests or end-to-end tests. Generally speaking, these code interact with main logic directly and if the test code is defective, the business logic is affected. One example could be that we have some test code around date/time logic so that if the testers make server and client time different, this code could help them to perform some tests. So how bad you think having this is, if there is no other easy(ish) way to test this part of business logic? Please comment if this plain explanation is too vague and you need more examples.