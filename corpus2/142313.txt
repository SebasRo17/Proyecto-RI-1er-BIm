I have a small JavaScript library that I've written that depends on prototype.js. I'm considering creating a new version that would use jQuery instead. The goal is to make it easier for users to install ( _choose which framework you use!_ ) while not making it harder for me to maintain. The main issue I see is that I would need to support two separate versions with overlapping functionality. If there is a bug, then I would need to fix it in two separate places. How can I support multiple different frameworks in a JavaScript library without having a maintenance nightmare?