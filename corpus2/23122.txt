I have a weighted graph and I want its graph Laplacian matrix (what Mathematica calls the Kirchhoff matrix in the unweighted case). Is there an easy way to get this? For example, the command:               WeightedAdjacencyMatrix[Graph[{0 \[UndirectedEdge] 1},EdgeWeight -> {3}]]//MatrixForm      returns the matrix               0   3     3   0      and               KirchhoffMatrix[Graph[{0 \[UndirectedEdge] 1}, EdgeWeight -> {3}]] //MatrixForm      returns               1 -1     -1 1      whereas I would like               3 -3     -3 3      I can do it in an ugly way, but I am wondering if there is a beautiful way to do it. * * * ### Edit I wrote a small function to do this, and it works.                    WeightedKirchhoffMatrix[G_] :=          (M = WeightedAdjacencyMatrix[G];          n = Length[M];          e = Table[1, {i, n}];          DiagonalMatrix[e.M] - M)