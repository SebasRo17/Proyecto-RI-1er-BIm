I am trying to define a graph using my own `VertexShapeFunction` with an `ActionMenu` button being the vertex and a custom `EdgeShapeFunction` defining the edges as arrows. My problem is that I am unable to get the arrows to finish exactly at the border of the `ActionMenu` as it is when I leave `EdgeShapeFunction` to `Automatic`. The coordinates and relative size of the `ActionMenu` button depends on the number of vertices and their layout, so I cannot compute once the coordinates and hardcode them in my definition of the `EdgeShapeFunction`. I was wondering if there is a function or a way to get the relative size to the graph coordinate system of the `ActionMenu` button or some dimensions. Here is an image of what I am trying to get: as seen from the image, the arrows are ending just before they reach the vertex: ![picture](http://i.stack.imgur.com/XFT3w.jpg) Here is part of the code:               ef[el_, __] := {Blue,        Which[First[el][[1]] < Last[el][[1]],         Arrow[{First[el], First[el] + {Last[el][[1]] - 0.5, 0},           Last[el] - {0.5, 0}, Last[el] - {0.400, 0}}],             First[el][[1]] >= Last[el][[1]],         Arrow[{First[el], First[el] + {1.5, 0}, First[el] + {1.5, -0.5},           Last[el] + {-1.5, -0.5 + First[el][[2]] - Last[el][[2]]},           Last[el] - {1.5, 0}, Last[el] - {0.400, 0}}]]}          g = Graph[{1 \[DirectedEdge] 2, 3 \[DirectedEdge] 2},         VertexShapeFunction -> (Inset[            ActionMenu[             icon, {"Print" :> Print[#2]}], #] &),         EdgeShapeFunction -> ef,         VertexLabelStyle -> Directive[Italic, 20]];