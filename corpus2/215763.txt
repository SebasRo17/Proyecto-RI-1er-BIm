I have levels of tables (Level1, Level2, Level3, ...) For simplicity, we'll say I have 3 levels. The rows in the higher level tables are parents of lower level table rows. The relationship does not skip levels however. E.g. Row1Level1 is parent of Row3Level2, Row2Level2 is parent of Row4Level3. Level(n-1)'s parent is always be in Level(n). Given these tables with data, I need to come up with a recursive function that generates an XML file to represent the relationship and the data. E.g.               <data>       <level levelid = 1 rowid=1>         <level levelid = 2 rowid=3 />       </level>       <level levelid = 2 rowid=2>         <level levelid = 3 rowid=4 />       </level>     </data>        I would like help with coming up with a pseudo-code for this setup. This is what I have so far: Edited/Updated code:               XElement GetXML(ArrayList list, XElement xml)             {                 XElement xElement = xml;                 // Get the rows of the current list into xmlData format                 ArrayList childList = GetChildList(list);                      if (childList != null)                 {                     foreach (Row r in list)                     {                         // Convert the rows to xml                         xElement = new XElement(xml);                         xElement.AddFirst(new XElement("Row"));                         xElement.Add(new XAttribute("RowId", r.RowId));                              // Get the children as xml                         if (childList != null)                         {                             ArrayList childRows = GetChildRows(list);                             XElement childXml = GetXML(childRows, xElement);                             if (childXml != null)                             {                                 xElement.Add(childXml);                             }                         }                     }                 }                 return xElement;            }      This is the main function. I can add the rest of the test program if needed. Thank you.               static void Main(string[] args)             {                 Program p = new Program();                      // Initialize datasets                 p.InitializeLists();                      // Create xml map of the datasets                 XElement x = p.GetXML(p.level1, new XElement("Row"));                      Console.WriteLine(x.ToString());                 Console.ReadLine();             }