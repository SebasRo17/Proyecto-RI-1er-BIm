Referencing this question, I wonder if the following code can be written more concisely using a functional style, i.e. without `For` loops or `ReplacePart`?               Parti[A_, p_] := Module[{An, i = 1, j = 1},       An = Drop[A, Flatten[Position[A, p]]];       For [j = 1, j <= Length[An], j++,        If[An[[j]] < p,        An = ReplacePart[An, {j -> An[[i]], i -> An[[j]]}]; i++]; ];        Insert[An, p, i] ];       Where               A1 = {3, 5, 6, 2, 1};      Parti[A1, First[A1]]       has the expected output: `{2,1,3,5,6}`