What is the general solutions to allow the client to choose the concrete instance of a method output? For example, in the Lucene API the search method receives and modifies the collector input parameter, but this is generally regarded as a bad practice:               IndexReader reader = DirectoryReader.open(index);     IndexSearcher searcher = new IndexSearcher(reader);     TopScoreDocCollector collector = TopScoreDocCollector.create(10, true);     searcher.search(q, collector);     ScoreDoc[] hits = collector.topDocs().scoreDocs;      An alternative would be to provide a Factory as input and have the search method return the instance created. What else?