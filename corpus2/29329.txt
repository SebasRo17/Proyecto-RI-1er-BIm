Just found the following while debugging a problem. _Mathematica_ is calculating the derivative of `IntegerPart[x]` in some odd way:               Plot[{IntegerPart@u, D[IntegerPart[x], x] /.x -> u}, {u, 0, 3},PlotRange -> Full]      ![enter image description here](http://i.stack.imgur.com/SJRtd.png) Do you know what is the violet curve in the plot above, and why _Mathematica_ thinks it is the derivative of `IntegerPart[x]`? **Edit** Or consider for example the following:               f[x_] := Sin[x] + IntegerPart[x];     Plot[{f[x], Derivative[1][f][x]}, {x, 0, Pi/2}]      ![enter image description here](http://i.stack.imgur.com/BB7zW.png) Or similarly               Plot[{FractionalPart[x], Derivative[1][FractionalPart][x]}, {x, 0, 3}]      ![enter image description here](http://i.stack.imgur.com/Jb8Ws.png) What is happening here?