I am trying to compute $$\mathbb E\left[\max\left(\frac{S_{1/2}+S_1}{2}-K,0\right)\right]$$ where $K=100$ and $S_t$ is a geometric brownian motion (with $S_0=100$, drift $r=0.05$ and volatility $\sigma=0.4$) which satisfies $$dS_t=rS_tdt+\sigma S_tdW_t \quad \text{for} \quad0\le t\le T=1$$ So I use               ClearAll["Global`*"]     r = 0.05;     sigma = 0.4;     S0 = 100;     NExpectation[Max[(S12 + S1)/2 - 100, 0],       {S12, S1} \[Distributed] GeometricBrownianMotionProcess[r, sigma, S0][{1/2, 1}]]      which gives               0.754031      But according to my lecture notes the value should be much higher, in fact, it should be $\approx14$ (or $\approx 15$). But what am I doing wrong? I suppose it might be due to the fact that $S_1$ and $S_{1/2}$ are not independent, but Mathematica probably assumes they are independent.