I'm using Shiro as my security manager for a Spring MVC web application. The login basically happens in these lines:               Subject user = SecurityUtils.getSubject();     user.login(new UsernamePasswordToken(username, password));      Where should I put this logic? `login()` can throw exceptions if the requested user doesn't exist or wrong password was provided, etc. Should I call the code from my controller and do the error handling there or should I call it from my service layer, catch exceptions and rethrow my own up to the controller?