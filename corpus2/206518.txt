I have a system that checks the status of a number of systems, such as, is http up, does the system respond to ping, that sort of thing. I check all of these systems every 5 minutes. If something is broken, I send out an e-mail with a notice. If the problem is cleared I send out an "all clear, problem resolved" notice too. I want to send out a notice 30 minutes after a problem is detected and the problem is still ongoing and then at failure +1h, +2h, +4h, etc. I do not want to flood the user with messages every time the event "problem still ongoing" occurs which is every 5 minutes. I could store a "last notification sent at" somewhere and just work with that but I would rather just solve it in the code itself. Am I missing something very obvious or is this the only feasible way?