Consider               ArcTan[3, -3]       (* out: *) -Pi/4            ArcTan[3 a Sin[t/2], -3 a Sin[t/2]]     (* out: *) ArcTan[3 a Sin[t/2], -3 a Sin[t/2]]        However, we can fix the second one with some assumptions (where applicable)               $Assumptions = a > 0 && Pi > t > 0       Refine@ArcTan[3 a Sin[t/2], -3 a Sin[t/2]]     (* out: *) -Pi/4        I need a way to force mathematica to similarly realize it can cancel units in the ArcTan (which is basically a ratio, except for the sign consideration for the quadrant). For example, say I now have               $Assumptions = a > 0 && Pi > t > 0        aa=(4 Pi/(3 Sqrt[3]))(Quantity[1.42, "Angstroms"])^(-1)       b=(Quantity[5, "Angstroms"])^(-1)     ArcTan[b+3 aa Sin[t/2],-b-3 aa Sin[t/2]]      How can I force Mathematica to recognize that these arguments are just +c and -c and thus the ArcTan significantly reduces? I wish to avoid removing the units here artificially with QuantityMagnitude[] because elswhere in these expressions the units appear outside of these ArcTan[]s. However, a last ditch solution would be one that simply searched for these ArcTan[] and applied QuantityMagnitude[] to their arguments, I suppose.