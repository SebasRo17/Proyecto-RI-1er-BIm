Unit tests should be isolated, automated ( ie we don't need to do any prior- configuration for all tests to run at the click of a button ) and consistent in their results. For these reasons we should stub any _external dependencies_ ( ie databases, webservices etc ) used by unit under test **UUT** ( with integration tests **UUTs** do use external dependencies ). But based on what criteria do we decide which _internal dependencies_ called by **UUT** ( by _internal dependencies_ I'm referring to code which is under our control and that doesn't communicate with any external systems ) also need to be stubbed and which don't need to be? Is perhaps the criteria that methods defined in the same class as **UUT** don't need to be stubbed, while methods defined in other classes should be, or ...?