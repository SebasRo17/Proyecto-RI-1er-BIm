In Ruby, I have a use case for a few common configuration options, e.g. NOOP, TRACE, SILENT. Right now I am using local vars instead of globals and passing them around all over the place and it's a pain. I be perfectly happy to use globals for these, if I could run a block where the globals can be temporarily changed and then reverted back. e.g.                global_configure(:TRACE=>true) do        ...      end      But how can I make that block of code thread safe, so that other threads can't change the globals on it?