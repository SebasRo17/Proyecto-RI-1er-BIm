I have the following code:               Sigma = {{1, 1}, {1, 1}};          sol =       Sum[ReplacePart[Apply[KroneckerProduct, Table[id, {i, 1, 2}]], {i -> Sigma}], {i, 1, 1}]          id = IdentityMatrix[2];          sol // Dimensions      > >     {4, 4} >                 sol2 =        Sum[ReplacePart[Apply[KroneckerProduct, Table[id, {i, 1, 2}]], {i -> Sigma}], {i, 1, 1}]          sol2 // Dimensions      > >      {4} >   As you see, when I evaluate the `Sum[...]` expression a second time, the dimension of the result changes and gives the wrong result. The result must be a 4 by 4 matrix. If I had put the `id` before `sol`, then I would have gotten the wrong result on the first evaluation. How can I resolve this problem? * * * I think the problem is with               ReplacePart[Apply[KroneckerProduct, Table[id, {i, 1, 2}]], {i -> Sigma}]      Before assigning `id` the position `i` is clear because we have something like `{id, id}` so `ReplacePart` can change the position `i` which contains `id` with `Sigma`. However, after assigning `id`, the position `i` is not clear anymore. I cannot find a solution to this problem.